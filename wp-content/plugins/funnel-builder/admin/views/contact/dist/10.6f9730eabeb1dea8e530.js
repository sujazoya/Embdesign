(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{1115:function(e,t,n){},1116:function(e,t,n){},1117:function(e,t,n){},1194:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n(2),o=n(121),i=n(5),c=n.n(i),l=n(1),s=n(11),u=n.n(s),f=n(9),b=n(358),m=n(75),d=n(373),p=n(29),h=n(27),y=n(6),v=(n(421),n(52)),O=(n(1115),n(4)),g=(n(1116),n(51)),j=["label","className","selected","options","onBlur","onChange","onSearch","onFocus","optionKey","isLoading","optionLabel","placeholder","searchPlaceholder"];function w(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,c=[],l=!0,s=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(c.push(r.value),c.length!==t);l=!0);}catch(e){s=!0,a=e}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(s)throw a}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return _(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var E=null,C=Object(v.compose)([v.withInstanceId])((function(e){var t=e.label,n=e.className,o=e.selected,i=e.options,s=void 0===i?[]:i,u=e.onBlur,b=(void 0===u&&a.noop,e.onChange),m=void 0===b?a.noop:b,d=e.onSearch,p=void 0===d?a.noop:d,h=e.onFocus,v=(void 0===h&&a.noop,e.optionKey,e.isLoading),_=void 0===v||v,C=(e.optionLabel,e.placeholder),x=void 0===C?Object(l.__)("Select","funnel-builder"):C,k=e.searchPlaceholder,S=void 0===k?Object(l.__)("Search...","funnel-builder"):k,N=function(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(e,j),L=w(Object(r.useState)(!1),2),P=L[0],T=L[1],A=w(Object(r.useState)(""),2),I=A[0],F=A[1],D=N.instanceId,M="inspector-searchlist-".concat(D),R=Object(a.isEmpty)(o)?"":o.name,z=Object(r.useRef)(),B=c()("bwf-searchlist-component bwf-list",n);Object(O.pb)(z,(function(){return T(!1)})),Object(r.useEffect)((function(){clearTimeout(E),E=setTimeout((function(){p(I)}),400)}),[I]);return Object(r.createElement)(f.BaseControl,{label:t,className:B,id:M},Object(r.createElement)("div",{className:"bwf-searchlist-field",ref:z},Object(r.createElement)("div",{className:c()("bwf-searchlist-controller",{"has-value":R}),onClick:function(){return T(!0)}},Object(r.createElement)("span",{className:"bwf-searchlist-selected"},R||x),Object(r.createElement)(y.a,{icon:P?"angle-up":"angle-down",width:"12",height:"12"})),P&&Object(r.createElement)("div",{className:"bwf-searchlist-popup"},Object(r.createElement)("div",{className:"bwf-searchlist-search-field"},Object(r.createElement)(y.a,{icon:"search",size:18}),Object(r.createElement)("input",{className:"bwf-searchlist-search-field__input",type:"search",placeholder:S,onChange:function(e){return F(e.target.value)},autoComplete:"off",value:I||""})),Object(r.createElement)("div",{className:"bwf-searchlist-options ".concat(_?"":"bwf-overflow-y")},_?Object(r.createElement)(g.a,{size:"xl"}):Object(a.isEmpty)(s)?Object(r.createElement)("div",{className:"bwf-searchlist-option-none"},Object(l.__)("Not Found","funnel-builder")):Object(r.createElement)("div",{className:"bwf-searchlist-option-item"},s.map((function(e,t){e.id;var n=e.name,a=e.funnel_title;return Object(r.createElement)("div",{className:"bwf-searchlist-option",key:t},a&&Object(r.createElement)("div",{className:"bwf-searchlist-option-parent"},a),Object(r.createElement)("div",{className:"bwf-searchlist-option-label",onClick:function(){return t=e,T(!1),void m(t);var t}},n))})))))))})),x=n(81),k=n(92);function S(e){return(S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function N(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function L(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?N(Object(n),!0).forEach((function(t){P(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):N(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function P(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=S(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=S(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==S(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function T(){T=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var o=t&&t.prototype instanceof h?t:h,i=Object.create(o.prototype),c=new L(r||[]);return a(i,"_invoke",{value:C(e,n,c)}),i}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var b="suspendedStart",m="executing",d="completed",p={};function h(){}function y(){}function v(){}var O={};s(O,i,(function(){return this}));var g=Object.getPrototypeOf,j=g&&g(g(P([])));j&&j!==n&&r.call(j,i)&&(O=j);var w=v.prototype=h.prototype=Object.create(O);function _(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){function n(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var s=l.arg,u=s.value;return u&&"object"==S(u)&&r.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(u).then((function(e){s.value=e,i(s)}),(function(e){return n("throw",e,i,c)}))}c(l.arg)}var o;a(this,"_invoke",{value:function(e,r){function a(){return new t((function(t,a){n(e,r,t,a)}))}return o=o?o.then(a,a):a()}})}function C(t,n,r){var a=b;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(r.method=o,r.arg=i;;){var c=r.delegate;if(c){var l=x(c,r);if(l){if(l===p)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(a===b)throw a=d,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);a=m;var s=f(t,n,r);if("normal"===s.type){if(a=r.done?d:"suspendedYield",s.arg===p)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(a=d,r.method="throw",r.arg=s.arg)}}}function x(t,n){var r=n.method,a=t.iterator[r];if(a===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,x(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),p;var o=f(a,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,p;var i=o.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,p):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,p)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function N(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function P(t){if(t||""===t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function n(){for(;++a<t.length;)if(r.call(t,a))return n.value=t[a],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(S(t)+" is not iterable")}return y.prototype=v,a(w,"constructor",{value:v,configurable:!0}),a(v,"constructor",{value:y,configurable:!0}),y.displayName=s(v,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,s(e,l,"GeneratorFunction")),e.prototype=Object.create(w),e},t.awrap=function(e){return{__await:e}},_(E.prototype),s(E.prototype,c,(function(){return this})),t.AsyncIterator=E,t.async=function(e,n,r,a,o){void 0===o&&(o=Promise);var i=new E(u(e,n,r,a),o);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},_(w),s(w,l,"Generator"),s(w,i,(function(){return this})),s(w,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=P,L.prototype={constructor:L,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(N),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function a(r,a){return c.type="throw",c.arg=t,n.next=r,a&&(n.method="next",n.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=r.call(i,"catchLoc"),s=r.call(i,"finallyLoc");if(l&&s){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,p):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),p},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),N(n),p}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;N(n)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:P(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),p}},t}function A(e,t,n,r,a,o,i){try{var c=e[o](i),l=c.value}catch(e){return void n(e)}c.done?t(l):Promise.resolve(l).then(r,a)}function I(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){A(o,r,a,i,c,"next",e)}function c(e){A(o,r,a,i,c,"throw",e)}i(void 0)}))}}function F(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,c=[],l=!0,s=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(c.push(r.value),c.length!==t);l=!0);}catch(e){s=!0,a=e}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(s)throw a}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return D(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?D(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function D(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var M=function(e){var t=e.onRequestVariant,n=e.experiment_id,i=e.variantTitle,s=Object(o.useParams)().stepId,b=F(Object(r.useState)("duplicate"),2),m=b[0],d=b[1],p=F(Object(r.useState)(!1),2),v=p[0],j=p[1],w=F(Object(r.useState)(s),2),_=w[0],E=w[1],S=F(Object(r.useState)([]),2),N=S[0],P=S[1],A=F(Object(r.useState)(!1),2),D=A[0],M=A[1],R=F(Object(r.useState)(!1),2),z=R[0],B=R[1],V=Object(x.a)().setExperimentData,G=Object(k.a)(),H=G.type,Z=G.getExperimentData,U=function(){var e=I(T().mark((function e(){var t,n,r,o=arguments;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=o.length>0&&void 0!==o[0]?o[0]:"",e.prev=1,B(!0),n={type:H,limit:10},Object(a.isEmpty)(t)||(n.s=t,t.length>2&&delete n.limit),e.next=7,u()({method:"GET",path:Object(O.u)("/experiment/step/search/?".concat(Object(h.stringify)(n)))});case 7:r=e.sent,B(!1),Object(a.isEmpty)(r)||r.hasOwnProperty("code")?P([]):P(r),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(1),B(!1),console.log("Failed Step List Variants:",e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(){return e.apply(this,arguments)}}(),Y=function(){var e=I(T().mark((function e(){var r,o,c,l;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Object(a.isEmpty)(_)){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,M(!0),r={},r="duplicate"===m?{duplicate_id:_}:{duplicate_id:_.ID,variant_title:i},e.next=8,u()({method:"POST",path:Object(O.u)("/experiment/".concat(n,"/variant")),data:r});case 8:(o=e.sent).hasOwnProperty("status")&&o.status?(M(!1),t(!1),o.hasOwnProperty("data")&&!Object(a.isEmpty)(o.data)&&(c=o.data,Z&&(l=Z.map((function(e){return e.id===n&&e.variants.push(c),e})),V(l)))):(M(!1),t(!1)),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),console.log("Error While Creating Variant: "),console.log(e.t0);case 16:case"end":return e.stop()}}),e,null,[[2,12]])})));return function(){return e.apply(this,arguments)}}();return Object(r.createElement)(f.Modal,{title:Object(l.__)("Add Variant","funnel-builder"),onRequestClose:function(){return t(!1)},className:"bwf-admin-modal bwf-admin-modal-medium bwf-modal-edit-page bwf-modal-overflow-visible",isDismissible:!0},Object(r.createElement)(r.Fragment,null,Object(r.createElement)("div",{className:c()("bwf-variant-creation-container",{"inactive-state":D})},v&&Object(r.createElement)(r.Fragment,null,Object(r.createElement)("div",{className:"bwf-flex bwf-cursor-pointer bwf--g12",onClick:function(){return j(!1)}},Object(r.createElement)(y.a,{icon:"arrow-left"})," ",Object(l.__)("Back","funnel-builder")),Object(r.createElement)("div",{className:"wf_funnel_clear_20"}),Object(r.createElement)(C,{label:Object(l.__)("Template","funnel-builder"),selected:_,onChange:function(e){return E(e)},onSearch:U,isLoading:z,options:N}),Object(r.createElement)("div",{className:"wf_funnel_clear_20"})),!v&&Object(r.createElement)(r.Fragment,null,Object(r.createElement)("ul",{className:"wf_funnel_steps",style:{gridTemplateColumns:"repeat(2, 1fr)"}},Object(r.createElement)("li",{className:c()("wf_funnel_steps_li",{selected:"duplicate"===m}),onClick:function(){d("duplicate"),E(s)}},Object(r.createElement)("div",{style:{width:"180px",margin:"auto"}},Object(r.createElement)("div",{className:"wf_funnel_step_icon"},Object(r.createElement)(y.a,{icon:"duplicate",size:36})),Object(r.createElement)("div",{className:"wf_funnel_h5"},Object(l.__)("Create Duplicate")))),Object(r.createElement)("li",{className:c()("wf_funnel_steps_li",{selected:"template"===m}),onClick:function(){d("template"),E({})}},Object(r.createElement)("div",{style:{width:"180px",margin:"auto"}},Object(r.createElement)("div",{className:"wf_funnel_step_icon"},Object(r.createElement)(y.a,{icon:"template",size:30})),Object(r.createElement)("div",{className:"wf_funnel_h5"},Object(l.__)("Select Template","funnel-builder"))))),Object(r.createElement)("div",{className:"wf_funnel_clear_24"}))),Object(r.createElement)("div",{className:"bwf-form-buttons".concat(isRtl?" wf_funnel_left_align":" wf_funnel_right_align")},Object(r.createElement)(f.Button,{onClick:function(){return t(!1)},className:"bwf-modal-cancel-btn"},Object(l.__)("Cancel","funnel-builder")),"duplicate"===m||v?Object(r.createElement)(f.Button,{isPrimary:!0,onClick:Y},Object(r.createElement)("span",{style:L({},D&&{visibility:"hidden"})},Object(l.__)("Add","funnel-builder")),D&&Object(r.createElement)(g.a,{color:"#ffffff",style:{position:"absolute"}})):Object(r.createElement)(f.Button,{isPrimary:!0,onClick:function(){return j(!0)},className:"bwf-no-ripple"},Object(l.__)("Next","funnel-builder")))))},R=n(22),z=(n(1117),n(37)),B=n(111),V=n(78),G=n(923),H=n.n(G),Z=n(42),U=n(40),Y=n(13),q=n(55),W=n(25);function $(e){return($="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function K(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=$(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=$(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==$(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function J(){J=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var o=t&&t.prototype instanceof h?t:h,i=Object.create(o.prototype),c=new N(r||[]);return a(i,"_invoke",{value:C(e,n,c)}),i}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var b="suspendedStart",m="executing",d="completed",p={};function h(){}function y(){}function v(){}var O={};s(O,i,(function(){return this}));var g=Object.getPrototypeOf,j=g&&g(g(L([])));j&&j!==n&&r.call(j,i)&&(O=j);var w=v.prototype=h.prototype=Object.create(O);function _(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){function n(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var s=l.arg,u=s.value;return u&&"object"==$(u)&&r.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(u).then((function(e){s.value=e,i(s)}),(function(e){return n("throw",e,i,c)}))}c(l.arg)}var o;a(this,"_invoke",{value:function(e,r){function a(){return new t((function(t,a){n(e,r,t,a)}))}return o=o?o.then(a,a):a()}})}function C(t,n,r){var a=b;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(r.method=o,r.arg=i;;){var c=r.delegate;if(c){var l=x(c,r);if(l){if(l===p)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(a===b)throw a=d,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);a=m;var s=f(t,n,r);if("normal"===s.type){if(a=r.done?d:"suspendedYield",s.arg===p)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(a=d,r.method="throw",r.arg=s.arg)}}}function x(t,n){var r=n.method,a=t.iterator[r];if(a===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,x(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),p;var o=f(a,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,p;var i=o.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,p):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,p)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function N(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function L(t){if(t||""===t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function n(){for(;++a<t.length;)if(r.call(t,a))return n.value=t[a],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError($(t)+" is not iterable")}return y.prototype=v,a(w,"constructor",{value:v,configurable:!0}),a(v,"constructor",{value:y,configurable:!0}),y.displayName=s(v,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,s(e,l,"GeneratorFunction")),e.prototype=Object.create(w),e},t.awrap=function(e){return{__await:e}},_(E.prototype),s(E.prototype,c,(function(){return this})),t.AsyncIterator=E,t.async=function(e,n,r,a,o){void 0===o&&(o=Promise);var i=new E(u(e,n,r,a),o);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},_(w),s(w,l,"Generator"),s(w,i,(function(){return this})),s(w,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=L,N.prototype={constructor:N,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(S),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function a(r,a){return c.type="throw",c.arg=t,n.next=r,a&&(n.method="next",n.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=r.call(i,"catchLoc"),s=r.call(i,"finallyLoc");if(l&&s){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,p):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),p},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),S(n),p}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;S(n)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:L(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),p}},t}function Q(e,t,n,r,a,o,i){try{var c=e[o](i),l=c.value}catch(e){return void n(e)}c.done?t(l):Promise.resolve(l).then(r,a)}function X(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){Q(o,r,a,i,c,"next",e)}function c(e){Q(o,r,a,i,c,"throw",e)}i(void 0)}))}}function ee(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,c=[],l=!0,s=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(c.push(r.value),c.length!==t);l=!0);}catch(e){s=!0,a=e}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(s)throw a}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return te(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?te(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function te(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var ne=function(e){var t=e.variant,n=e.variant_id,o=(e.title,e.stepId),i=e.experiment_id,s=(e.fetchExperimentData,e.variantIndex),f=(e.isStatsLoading,e.statsData),b=void 0===f?{}:f,d=e.exp_status,p=e.totalVariants,h=e.setOpenTrafficModal,v=e.funnelId,j=e.item,w=e.isVariantLoading,_=t.id,E=t.control,C=(t.active,t.winner),S=t.traffic,N=t.title,L=(t.edit,t.views),P=void 0===L?b.views:L,T=t.conversions,A=void 0===T?b.conversions:T,I=t.revenue_per_visit,F=void 0===I?b.revenue_per_visit:I,D=t.conversion_rate,M=void 0===D?b.conversion_rate:D,R=t.revenue,G=void 0===R?b.revenue:R,H=t.offers,$=void 0===H?b.offers:H,Q=j.date_started,te=void 0===Q?"":Q,ne=Object(a.unescape)(N),re=function(){var e=ye.replace("{variant_count}",parseInt(p));return e=e.replace("{start_date}",te)},ae=Object(x.a)().setExperimentData,oe=Object(U.a)(),ie=oe.setPreviousStep,ce=oe.setStepId,le=oe.setVariant,se=oe.setVariantControl,ue=(oe.setStepData,Object(k.a)()),fe=ue.getExperimentData,be=ue.type,me=ue.experiment_status,de=ue.control_id,pe=ue.step_slug,he=ue.head_message,ye=void 0===he?"":he,ve=Object(q.a)().setStepHeaderData,Oe=ee(Object(r.useState)(0==s),2),ge=Oe[0],je=Oe[1],we=ee(Object(r.useState)({}),2),_e=we[0],Ee=we[1],Ce=!Object(a.isEmpty)($)&&Array.isArray($)?$:[],xe=Object(O.w)(),ke=function(){var e=X(J().mark((function e(){var t,a,o,c;return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,Ee({className:"bwf-modal-confirm-title",status:!0,modalTitle:Object(l.__)("Draft Variant"),content:Object(r.createElement)(r.Fragment,null,Object(l.__)("You are about to draft  ","funnel-builder"),Object(r.createElement)("strong",null,ne),Object(l.__)(", traffic distribution would need to be updated. Cancel to stop, Draft to proceed.","funnel-builder")),buttonConfirm:Object(l.__)("Draft & Update Traffic","funnel-builder"),buttonCancel:Object(l.__)("Cancel","funnel-builder"),disableConfirm:!0}),e.next=4,u()({path:Object(O.u)("/experiment/".concat(i,"/draft/").concat(n)),method:"POST"});case 4:(t=e.sent).status?(Ee({}),t.hasOwnProperty("exp_id")&&t.hasOwnProperty("variant_id")&&(a=t.exp_id,o=t.variant_id,fe&&(c=fe.map((function(e){return e.id===a&&(e.variants=e.variants.map((function(e){return e.id==o&&(e.active=!1,e.traffic=0),e}))),e})),ae(c),h(!0)))):t.error&&Ee({status:!0,closeIcon:!0,loading:!1,error:t.error,content:t.description}),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),console.log("Failed Variant Draft: ",e.t0),e.t0.message&&Ee({status:!0,closeIcon:!0,loading:!1,error:e.t0.message});case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),Se=function(){var e=X(J().mark((function e(){var t,a,o,c;return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,Ee({className:"bwf-modal-confirm-title",status:!0,modalTitle:Object(l.__)("Publish Variant","funnel-builder"),content:Object(r.createElement)(r.Fragment,null,Object(l.__)("You are about to published  ","funnel-builder"),Object(r.createElement)("strong",null,ne),Object(l.__)(", traffic distribution would need to be updated. Cancel to stop, Publish to proceed.","funnel-builder")),buttonConfirm:Object(l.__)("Draft & Update Traffic","funnel-builder"),buttonCancel:Object(l.__)("Cancel","funnel-builder"),disableConfirm:!0}),e.next=4,u()({path:Object(O.u)("/experiment/".concat(i,"/publish/").concat(n)),method:"POST"});case 4:(t=e.sent).status?(Ee({}),t.hasOwnProperty("exp_id")&&t.hasOwnProperty("variant_id")&&(a=t.exp_id,o=t.variant_id,fe&&(c=fe.map((function(e){return e.id===a&&(e.variants=e.variants.map((function(e){return e.id==o&&(e.active=!0),e}))),e})),ae(c),h(!0)))):t.message&&Ee({modalTitle:Object(l.__)("Publish","funnel-builder"),status:!0,closeIcon:!0,loading:!1,error:t.message}),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),console.log("Failed Variant Publish: ",e.t0),(e.t0.message||e.t0.msg)&&Ee({status:!0,closeIcon:!0,loading:!1,error:e.t0.message||e.t0.msg});case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),Ne=function(){var e=X(J().mark((function e(){var t,o,c;return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,Ee({status:!0,loading:!0,content:Object(r.createElement)("div",{className:"bwf-t-center"},Object(r.createElement)("div",{className:"bwf-h1 bwf-mt-20"}," ",Object(l.__)("Please wait...","funnel-builder")),Object(r.createElement)("div",{className:"bwf-h4 bwf-h4-grey"}," ",Object(l.__)("We are duplicating variant.","funnel-builder")))}),e.next=4,u()({method:"POST",path:Object(O.u)("/experiment/".concat(i,"/variant")),data:{duplicate_id:n}});case 4:(t=e.sent).status?(Ee({}),t.hasOwnProperty("data")&&!Object(a.isEmpty)(t.data)&&(o=t.data,fe&&(c=fe.map((function(e){return e.id===i&&e.variants.push(o),e})),ae(c),h(!0)))):(t.message||t.msg)&&Ee({modalTitle:Object(l.__)("Duplicate Variant","funnel-builder"),status:!0,closeIcon:!0,loading:!1,error:t.message||t.msg}),e.next=13;break;case 8:e.prev=8,e.t0=e.catch(0),console.log("Error While Creating Variant: ","funnel-builder"),console.log(e.t0),(e.t0.message||e.t0.msg)&&Ee({status:!0,closeIcon:!0,loading:!1,error:e.t0.message||e.t0.msg});case 13:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),Le=function(){var e=X(J().mark((function e(){var t,o,c,s;return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,Ee({className:"bwf-modal-confirm-title",status:!0,modalTitle:Object(l.__)("Delete Variant","funnel-builder"),content:Object(r.createElement)(r.Fragment,null,Object(l.__)("You are about to delete  ","funnel-builder"),Object(r.createElement)("strong",null,ne),Object(l.__)(", traffic distribution would need to be updated. Cancel to stop, Delete to proceed.","funnel-builder")),buttonConfirm:Object(l.__)("Delete & Update Traffic","funnel-builder"),buttonCancel:Object(l.__)("Cancel","funnel-builder"),disableConfirm:!0}),e.next=4,u()({path:Object(O.u)("/experiment/".concat(i,"/variant/").concat(n)),method:"DELETE"});case 4:(t=e.sent).status?(Ee({}),t.hasOwnProperty("exp_id")&&t.hasOwnProperty("variant_id")&&(o=t.exp_id,c=t.variant_id,fe&&(s=fe.map((function(e){return e.id===o&&Object(a.remove)(e.variants,(function(e){return e.id==c})),e})),ae(s),h(!0)))):(t.message||t.msg)&&Ee({modalTitle:Object(l.__)("Delete Variant","funnel-builder"),status:!0,closeIcon:!0,loading:!1,error:t.message||t.msg}),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),console.log("Failed Variant Deletion: ",e.t0),(e.t0.message||e.t0.msg)&&Ee({status:!0,closeIcon:!0,loading:!1,error:e.t0.message||e.t0.msg});case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),Pe=function(e){return"thank_you"===e?"wc_thankyou":"aero"===e?"wc_checkout":e},Te=function(e){return"started"===e?"2":"paused"===e?"3":"draft"===e?"1":"4"},Ae="sales"===be||"landing"===be||"thank_you"===be||"optin_ty"===be,Ie="order_bump"===be,Fe="thank_you"===be||"optin_ty"===be;return Object(r.createElement)("div",{className:c()("bwf-exp-variant-wrap",{"has-draft":!t.active&&"completed"!==d})},Object(r.createElement)("div",{className:"bwf-exp-variant"},Object(r.createElement)("div",{className:c()("bwf-variant-data",{"bwf-cursor-pointer":!Object(a.isEmpty)($)}),onClick:function(){Object(a.isEmpty)($)||je(!ge)}},Object(r.createElement)("span",{className:"bwf-variant-title"},"completed"!==d?Object(r.createElement)("a",{onClick:function(){ve(pe,t.id,t.id,{title:ne,view_link:t.view_link,status:!(!t.active&&"completed"!==d),experiment_status:Te(me),is_varient:!E,control_id:de,experiment_message:re()}),ie("experiment"),le(ne),se(t.control),ce(o),Object(Y.k)({},Object(O.V)(v,Pe(be),_,_,!1),{})}},ne):ne),Object(r.createElement)("span",{className:c()("bwf-variant-tag"),"data-tag":t.control?"original":null},Object(r.createElement)(r.Fragment,null," ",t.control?"Original":"Variant"," ")),!t.active&&"completed"!==d&&Object(r.createElement)(W.c,{content:Object(l.__)("Draft","funnel-builder"),type:"warning"}),C&&Object(r.createElement)("span",{className:"bwf-variant-winner bwf-flex"},Object(r.createElement)(y.a,{icon:"winner",size:"24"})),!Object(a.isEmpty)($)&&Object(r.createElement)("span",{className:"bwf-cursor-pointer"},Object(r.createElement)(y.a,{icon:ge?"tailless-arrow-up-1":"tailless-arrow-down-1",width:"14",height:"8"}))),Object(r.createElement)("div",{className:"bwf-variant-analytics"},Object(r.createElement)("div",{className:"bwf-variant-stats-wrap"},w?Object(r.createElement)("div",{className:"bwf-flex"},Object(r.createElement)(g.a,null),"  "," ",Object(l.__)("Loading Analytics...","funnel-builder")):Object(r.createElement)(r.Fragment,null,Object(r.createElement)("div",{className:"bwf-analytics-stats"},Object(r.createElement)("strong",null,Math.trunc(S),"%"),Object(r.createElement)("span",null,Object(l.__)("Weight","funnel-builder"))),Object(r.createElement)("div",{className:"bwf-analytics-stats"},Object(r.createElement)("strong",null,void 0===P?0:P),Object(r.createElement)("span",null,Ie?Object(l.__)("Orders","funnel-builder"):Object(l.__)("Views","funnel-builder"))),Object(r.createElement)("div",{className:"bwf-analytics-stats"},Object(r.createElement)("strong",null,void 0===A?0:A),Object(r.createElement)("span",null,Ae?Object(l.__)("Clicks","funnel-builder"):Object(l.__)("Conversions","funnel-builder"))),Object(r.createElement)("div",{className:"bwf-analytics-stats"},Object(r.createElement)("strong",null,void 0===M?0:M.toFixed(2),"%"),Object(r.createElement)("span",null,Ae?Object(l.__)("Click Rate","funnel-builder"):Object(l.__)("Conversion Rate","funnel-builder"))),Object(r.createElement)("div",{className:"bwf-analytics-stats"},Object(r.createElement)("strong",null,Fe?"-":xe.formatAmount(void 0===G?0:G)),Object(r.createElement)("span",null,Object(l.__)("Revenue","funnel-builder"))),Object(r.createElement)("div",{className:"bwf-analytics-stats"},Object(r.createElement)("strong",null,Fe?"-":xe.formatAmount(void 0===F?0:F)),Object(r.createElement)("span",null,Object(l.__)("Revenue Per Visit","funnel-builder")))))),Object(r.createElement)("div",{className:"bwf-variant-actions bwf-flex"},"order_bump"!==be&&Object(r.createElement)("a",{target:"_blank",href:Object(z.decodeEntities)(t.view_link),title:Object(l.__)("View A/B Test","funnel-builder"),className:"bwf-list-btn"},Object(r.createElement)(y.a,{icon:"view",size:"18"}),Object(r.createElement)("span",null,Object(l.__)("Preview","funnel-builder"))),"completed"!==d&&Object(r.createElement)(B.a,{renderContent:function(e){var n=e.onToggle;return Object(r.createElement)(r.Fragment,null,Object(r.createElement)(V.a,{isClickable:!0,onInvoke:function(){n(),ie("experiment"),le(ne),se(t.control),ce(o),ve(pe,t.id,t.id,{title:ne,view_link:t.view_link,status:!(!t.active&&"completed"!==d),experiment_status:Te(me),is_varient:!E,control_id:de,experiment_message:re()}),Object(Y.k)({},Object(O.V)(v,Pe(be),_,_,!1),{})}},Object(r.createElement)(Z.a,{justify:"flex-start"},Object(r.createElement)(Z.c,null,Object(l.__)("Edit","funnel-builder")))),"draft"===d&&Object(r.createElement)(V.a,{isClickable:!0,onInvoke:function(){n(),Ne()}},Object(r.createElement)(Z.a,{justify:"flex-start"},Object(r.createElement)(Z.c,null,Object(l.__)("Duplicate","funnel-builder")))),t.active&&!t.control&&Object(r.createElement)(V.a,{isClickable:!0,onInvoke:function(){n(),Ee({className:"bwf-modal-confirm-title",status:!0,modalTitle:Object(l.__)("Draft Variant"),content:Object(r.createElement)(r.Fragment,null,Object(l.__)("You are about to draft  ","funnel-builder"),Object(r.createElement)("strong",null,ne),Object(l.__)(", traffic distribution would need to be updated. Cancel to stop, Draft to proceed.","funnel-builder")),buttonConfirm:Object(l.__)("Draft & Update Traffic"),buttonCancel:Object(l.__)("Cancel"),onConfirm:function(){return ke()}})}},Object(r.createElement)(Z.a,{justify:"flex-start"},Object(r.createElement)(Z.c,null,Object(l.__)("Draft","funnel-builder")))),!t.active&&!t.control&&Object(r.createElement)(V.a,{isClickable:!0,onInvoke:function(){n(),Ee({className:"bwf-modal-confirm-title",status:!0,modalTitle:Object(l.__)("Publish Variant","funnel-builder"),content:Object(r.createElement)(r.Fragment,null,Object(l.__)("You are about to publish ","funnel-builder"),Object(r.createElement)("strong",null,ne),Object(l.__)(", traffic distribution would need to be updated. Cancel to stop, Publish to proceed.","funnel-builder")),buttonConfirm:Object(l.__)("Publish & Update Traffic","funnel-builder"),buttonCancel:Object(l.__)("Cancel","funnel-builder"),onConfirm:function(){return Se()}})}},Object(r.createElement)(Z.a,{justify:"flex-start"},Object(r.createElement)(Z.c,null,Object(l.__)("Publish","funnel-builder")))),"draft"===d&&!E&&Object(r.createElement)(V.a,{isClickable:!0,onInvoke:function(){n(),Ee({className:"bwf-modal-confirm-title",status:!0,modalTitle:Object(l.__)("Delete Variant","funnel-builder"),content:Object(r.createElement)(r.Fragment,null,Object(l.__)("You are about to Delete  ","funnel-builder"),Object(r.createElement)("strong",null,ne),Object(l.__)(", traffic distribution would need to be updated. Cancel to stop, Publish to proceed.","funnel-builder")),buttonConfirm:Object(l.__)("Delete & Update","funnel-builder"),buttonCancel:Object(l.__)("Cancel","funnel-builder"),onConfirm:function(){return Le()}})}},Object(r.createElement)(Z.a,{justify:"flex-start"},Object(r.createElement)(Z.c,null,Object(l.__)("Delete","funnel-builder")))))}}))),!Object(a.isEmpty)($)&&ge&&Object(r.createElement)("div",{className:"bwf-upsell-variants"},Object(r.createElement)("div",{className:"bwf-exp-variant"},Object(r.createElement)("div",{className:"bwf-variant-data"},Object(r.createElement)("span",{className:"bwf-variant-title"},Object(l.__)("Offers","funnel-builder"))),Object(r.createElement)("div",{className:"bwf-variant-analytics"},Object(r.createElement)("div",{className:"bwf-variant-stats-wrap"},Object(r.createElement)("div",{className:"bwf-analytics-stats"},Object(r.createElement)("span",null,Object(l.__)("Weight","funnel-builder"))),null!=P&&Object(r.createElement)("div",{className:"bwf-analytics-stats"},Object(r.createElement)("strong",null,Object(l.__)("Views","funnel-builder"))),null!=A&&Object(r.createElement)("div",{className:"bwf-analytics-stats"},Object(r.createElement)("strong",null,Object(l.__)("Conversions","funnel-builder"))),null!=F&&Object(r.createElement)("div",{className:"bwf-analytics-stats"},Object(r.createElement)("strong",null,Object(l.__)("Revenue Per Visit","funnel-builder"))),null!=M&&Object(r.createElement)("div",{className:"bwf-analytics-stats"},Object(r.createElement)("strong",null,Object(l.__)("Conversion Rate","funnel-builder"))),null!=G&&Object(r.createElement)("div",{className:"bwf-analytics-stats"},Object(r.createElement)("strong",null,Object(l.__)("Revenue","funnel-builder")))))),!Object(a.isEmpty)(Ce)&&Ce.map((function(e,t){return Object(r.createElement)("div",{className:"bwf-exp-variant",key:t},Object(r.createElement)("div",{className:"bwf-variant-data"},Object(r.createElement)("span",{className:"bwf-variant-title"},e.object_name)),Object(r.createElement)("div",{className:"bwf-variant-analytics"},Object(r.createElement)("div",{className:"bwf-variant-stats-wrap hide-stats-label"},Object(r.createElement)("div",{className:"bwf-analytics-stats"},Object(r.createElement)("span",null,"-"),Object(r.createElement)("span",null,Object(l.__)("Weight","funnel-builder"))),null!=e.views&&Object(r.createElement)("div",{className:"bwf-analytics-stats"},Object(r.createElement)("span",null,e.views),Object(r.createElement)("span",null,Object(l.__)("Views","funnel-builder"))),null!=e.conversions&&Object(r.createElement)("div",{className:"bwf-analytics-stats"},Object(r.createElement)("span",null,e.conversions),Object(r.createElement)("span",null,Object(l.__)("Conversions","funnel-builder"))),null!=e.revenue_per_visit&&Object(r.createElement)("div",{className:"bwf-analytics-stats"},Object(r.createElement)("span",null,xe.formatAmount(e.revenue_per_visit)),Object(r.createElement)("span",null,Object(l.__)("Revenue Per Visit","funnel-builder"))),null!=e.conversion_rate&&Object(r.createElement)("div",{className:"bwf-analytics-stats"},Object(r.createElement)("span",null,e.conversion_rate.toFixed(2),"%"),Object(r.createElement)("span",null,Object(l.__)("Conversion Rate","funnel-builder"))),null!=e.revenue&&Object(r.createElement)("div",{className:"bwf-analytics-stats"},Object(r.createElement)("span",null,xe.formatAmount(e.revenue)),Object(r.createElement)("span",null,Object(l.__)("Revenue","funnel-builder"))))))}))),Object(r.createElement)(m.a,K({className:c()("bwf-admin-modal-squeezy",_e.className),confirmText:_e.confirmText,confirmButtonText:_e.buttonConfirm,cancelButtonText:_e.buttonCancel,onConfirm:_e.onConfirm,isLoading:_e.loading,successMessage:_e.success,errorMessage:_e.error,content:_e.content,onRequestClose:function(){return Ee({status:!1})},modalTitle:_e.modalTitle,isOpen:_e.status,closeIcon:_e.closeIcon,disableConfirm:_e.disableConfirm,autoHide:!1},"closeIcon",!_e.hasOwnProperty("closeIcon")||_e.closeIcon)))},re=n(284);function ae(e){return(ae="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function oe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ie(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?oe(Object(n),!0).forEach((function(t){ce(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ce(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=ae(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=ae(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==ae(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function le(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,c=[],l=!0,s=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(c.push(r.value),c.length!==t);l=!0);}catch(e){s=!0,a=e}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(s)throw a}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return se(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?se(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function se(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var ue=function(e){e.title;var t=e.onRequestClose,n=e.onAction,a=le(Object(r.useState)(!1),2),o=a[0],i=a[1],c=le(Object(r.useState)(!1),2),s=c[0],u=c[1];return Object(r.createElement)("div",{className:"bwf-custom-experiment-modal"},Object(r.createElement)("div",{className:"bwf-custom-header bwf-flex bwf--space-between"},Object(r.createElement)("div",{className:"bwf-modal-title"}),Object(r.createElement)("div",{className:"bwf-modal-close bwf-cursor-pointer",title:Object(l.__)("Close"),onClick:function(){return t()}},Object(r.createElement)(y.a,{icon:"close",size:20}))),Object(r.createElement)("img",{className:"bwf-hero-svg",src:Object(O.E)()+"zero-state/Ab_test_start.png",alt:"",width:"268",height:"240"}),Object(r.createElement)("div",{className:"bwf-h1"},"Awesome! Your experiment is about to start"),Object(r.createElement)("div",{className:"bwf-modal-content-list"},Object(r.createElement)("div",{className:"modal-content-list-heading"},Object(l.__)("After you've started your A/B testing, you can","funnel-builder")),Object(r.createElement)("div",{className:"bwf-modal-list-wrap"},Object(r.createElement)("div",{className:"bwf-modal-list-item"},Object(r.createElement)(y.a,{icon:"circle-tick",size:16}),Object(l.__)("Pause & restart it anytime","funnel-builder")),Object(r.createElement)("div",{className:"bwf-modal-list-item"},Object(r.createElement)(y.a,{icon:"circle-tick",size:16}),Object(l.__)("Adjust traffic while it is running","funnel-builder")),Object(r.createElement)("div",{className:"bwf-modal-list-item"},Object(r.createElement)(y.a,{icon:"circle-tick",size:16}),Object(l.__)("Remove the variant you don’t want to test anymore","funnel-builder")))),Object(r.createElement)("div",{className:"bwf-modal-note"},Object(r.createElement)("strong",null,Object(l.__)("Note: ","funnel-builder")),Object(l.__)("You cannot create, delete or duplicate a variant while your experiment is running.","funnel-builder")),Object(r.createElement)("div",{className:"bwf-checkbox"},Object(r.createElement)(re.a,{checked:s,onChange:function(){return u(!s)},label:Object(l.__)("I confirm to purge the site cache before starting the A/B test. Cached pages will ignore global setting for serving variants at the same URL.","funnel-builder"),disabled:o})),Object(r.createElement)("div",{className:"bwf-modal-action"},Object(r.createElement)(f.Button,{isPrimary:!0,onClick:function(){o||(i(!0),n())},className:"bwf-btn-l ".concat(o?"bwf-disable":""),disabled:!s},Object(r.createElement)("span",{style:ie({},o&&{visibility:"hidden"})},Object(l.__)("Start Now","funnel-builder")),o&&Object(r.createElement)(g.a,{color:"#ffffff",style:{position:"absolute"}}))))},fe=function(e){var t=e.onRequestClose,n=(e.onAction,e.invalid_traffic),o=e.inactive_variant,i=e.inactive_variants_list,c=void 0===i?{}:i,s=e.error_message;Object(a.isEmpty)(c)||Object.values(c);return Object(r.createElement)("div",{className:"bwf-custom-experiment-modal"},Object(r.createElement)("img",{className:"bwf-hero-svg",src:Object(O.E)()+"zero-state/Ab_test_start.png",alt:"",width:"268",height:"240"}),Object(r.createElement)("div",{className:"bwf-h1"},"Oh Snap! Found few issues with this A/B testing"),Object(r.createElement)("div",{className:"bwf-modal-content-list"},Object(r.createElement)("div",{className:"modal-content-list-heading"},Object(l.__)("Reason for failure to initiate A/B testing","funnel-builder")),Object(r.createElement)("div",{className:"bwf-modal-list-wrap"},n&&Object(r.createElement)("div",{className:"bwf-modal-list-item"},Object(r.createElement)(y.a,{icon:"circle-close",size:16}),Object(l.__)("Traffic distribtuion not done or 100% distributed","funnel-builder")),o&&Object(r.createElement)("div",{className:"bwf-modal-list-item"},Object(r.createElement)(y.a,{icon:"circle-close",size:16}),Object(r.createElement)("span",null,s)),!n&&!o&&Object(r.createElement)("div",{className:"bwf-modal-list-item"},Object(r.createElement)(y.a,{icon:"circle-close",size:16}),Object(l.__)("No Variant Found","funnel-builder")))),Object(r.createElement)("div",{className:"bwf-modal-action"},Object(r.createElement)(f.Button,{isPrimary:!0,onClick:t,className:"bwf-btn-l"},Object(l.__)("Fix and Try Again"))))},be=n(573);n(206);function me(e){return(me="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function de(e){return function(e){if(Array.isArray(e))return we(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||je(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function pe(){pe=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var o=t&&t.prototype instanceof h?t:h,i=Object.create(o.prototype),c=new N(r||[]);return a(i,"_invoke",{value:C(e,n,c)}),i}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var b="suspendedStart",m="executing",d="completed",p={};function h(){}function y(){}function v(){}var O={};s(O,i,(function(){return this}));var g=Object.getPrototypeOf,j=g&&g(g(L([])));j&&j!==n&&r.call(j,i)&&(O=j);var w=v.prototype=h.prototype=Object.create(O);function _(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){function n(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var s=l.arg,u=s.value;return u&&"object"==me(u)&&r.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(u).then((function(e){s.value=e,i(s)}),(function(e){return n("throw",e,i,c)}))}c(l.arg)}var o;a(this,"_invoke",{value:function(e,r){function a(){return new t((function(t,a){n(e,r,t,a)}))}return o=o?o.then(a,a):a()}})}function C(t,n,r){var a=b;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(r.method=o,r.arg=i;;){var c=r.delegate;if(c){var l=x(c,r);if(l){if(l===p)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(a===b)throw a=d,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);a=m;var s=f(t,n,r);if("normal"===s.type){if(a=r.done?d:"suspendedYield",s.arg===p)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(a=d,r.method="throw",r.arg=s.arg)}}}function x(t,n){var r=n.method,a=t.iterator[r];if(a===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,x(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),p;var o=f(a,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,p;var i=o.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,p):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,p)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function N(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function L(t){if(t||""===t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function n(){for(;++a<t.length;)if(r.call(t,a))return n.value=t[a],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(me(t)+" is not iterable")}return y.prototype=v,a(w,"constructor",{value:v,configurable:!0}),a(v,"constructor",{value:y,configurable:!0}),y.displayName=s(v,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,s(e,l,"GeneratorFunction")),e.prototype=Object.create(w),e},t.awrap=function(e){return{__await:e}},_(E.prototype),s(E.prototype,c,(function(){return this})),t.AsyncIterator=E,t.async=function(e,n,r,a,o){void 0===o&&(o=Promise);var i=new E(u(e,n,r,a),o);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},_(w),s(w,l,"Generator"),s(w,i,(function(){return this})),s(w,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=L,N.prototype={constructor:N,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(S),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function a(r,a){return c.type="throw",c.arg=t,n.next=r,a&&(n.method="next",n.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=r.call(i,"catchLoc"),s=r.call(i,"finallyLoc");if(l&&s){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,p):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),p},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),S(n),p}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;S(n)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:L(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),p}},t}function he(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ye(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?he(Object(n),!0).forEach((function(t){ve(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):he(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ve(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=me(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=me(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==me(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Oe(e,t,n,r,a,o,i){try{var c=e[o](i),l=c.value}catch(e){return void n(e)}c.done?t(l):Promise.resolve(l).then(r,a)}function ge(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,c=[],l=!0,s=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(c.push(r.value),c.length!==t);l=!0);}catch(e){s=!0,a=e}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(s)throw a}}return c}}(e,t)||je(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function je(e,t){if(e){if("string"==typeof e)return we(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?we(e,t):void 0}}function we(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var _e=function(e){var t=e.variants,n=(e.stepTitle,e.experiment_id),o=(e.fetchExperimentData,e.stepId,e.onRequestClose),i=e.setOpenTrafficModal,s=e.abortControllerRef,b=ge(Object(r.useState)({}),2),m=b[0],d=b[1],p=ge(Object(r.useState)([]),2),h=p[0],v=p[1],j=ge(Object(r.useState)([]),2),w=j[0],_=j[1],E=ge(Object(r.useState)(!1),2),C=E[0],S=E[1],N=ge(Object(r.useState)(100),2),L=N[0],P=N[1],T=ge(Object(r.useState)(!1),2),A=T[0],I=T[1],F=ge(Object(r.useState)(!1),2),D=F[0],M=F[1],R=Object(k.a)(),z=R.getExperimentData,B=R.invalidTraffic,V=Object(x.a)(),G=V.setExperimentData,H=V.setTrafficStatus;Object(r.useEffect)((function(){var e=[],n=0,r=!0;return Object(a.isEmpty)(t)||(t.forEach((function(t){!0===t.active&&(e.push({variant_id:t.id,traffic:Math.trunc(t.traffic).toString(),control:t.control,title:t.title}),n++,r=!1)})),v(e),_(JSON.parse(JSON.stringify(e))),P(n),r&&I(!0)),function(){}}),[]);Object(r.useEffect)((function(){if(Object(a.size)(h))if(h.find((function(e){return 0===parseInt(e.traffic)})))S("zero");else{var e=h.map((function(e){return parseFloat(e.traffic)})).reduce((function(e,t){return e+t}),0);100==Object(a.round)(e)?(S(!1),B&&H(!1)):S(!0)}}),[h]);var Z=function(){var e,t=(e=pe().mark((function e(){var t,r;return pe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return M(!0),e.prev=1,s.current=new AbortController,d(ye(ye({},m),{},{disableConfirm:!0})),e.next=6,u()({path:Object(O.u)("/experiment/".concat(n,"/")),method:"POST",signal:s.current.signal,data:{traffics:JSON.stringify(h)}});case 6:(t=e.sent).status?(t.hasOwnProperty("exp_id")&&t.hasOwnProperty("message")&&z&&(r=z.map((function(e){return e.id===n&&e.variants.map((function(e){return h.forEach((function(t){e.id===t.variant_id&&(e.traffic=t.traffic)})),e})),e})),G(r)),i(!1),M(!1)):t.name||t.message&&d(ye(ye({},m),{},{loading:!1,error:t.message})),e.next=15;break;case 10:e.prev=10,e.t0=e.catch(1),console.log("Failed Weight Distribution: "),console.log(e.t0),"AbortError"===e.t0.name?(i(!1),M(!1)):e.t0.message&&d({status:!0,loading:!1,error:e.t0.message});case 15:case"end":return e.stop()}}),e,null,[[1,10]])})),function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){Oe(o,r,a,i,c,"next",e)}function c(e){Oe(o,r,a,i,c,"throw",e)}i(void 0)}))});return function(){return t.apply(this,arguments)}}(),U=function(){var e=w.map((function(e){return parseFloat(e.traffic)})).reduce((function(e,t){return e+t}),0);100!=Object(a.round)(e)&&H(!0),o()};return Object(r.createElement)(f.Modal,{className:"bwf-c-s-delete-model bwf-admin-modal bwf-admin-modal-squeezy bwf-admin-modal-no-header bwf-weight-modal",isDismissible:!1,onRequestClose:U},Object(r.createElement)("div",{className:"bwf-modal-custom-header bwf-flex bwf--space-between"},Object(r.createElement)("div",{className:"bwf-modal-title bwf-small"},m.error?Object(l.__)("Failed"):Object(l.__)("Traffic Distribution","funnel-builder")),Object(r.createElement)("div",{className:"bwf-modal-action bwf-flex bwf--g24"},!m.error&&Object(r.createElement)("div",{className:"bwf-modal-weight bwf-cursor-pointer",title:Object(l.__)("Make Traffic Equally","funnel-builder"),onClick:function(){if(!A){var e=100%L,t=Math.trunc(100/L),n=de(h);if(0==e){var r=n.map((function(e){return e.traffic=t.toString(),e}));v(r)}else{for(var a=100,o=0;0!=a%L;)a--,o++;var i=a/L,c=i+o,l=i,s=n.map((function(e,t){return e.traffic=0==t?c.toString():l.toString(),e}));v(s)}}}},Object(r.createElement)(y.a,{icon:"weight",width:"20",height:"17"})),Object(r.createElement)("div",{className:"bwf-modal-close bwf-cursor-pointer",title:Object(l.__)("Close","funnel-builder"),onClick:U},Object(r.createElement)(y.a,{icon:"close",width:"16",height:"16"})))),!!m.error&&Object(r.createElement)("div",{className:"bwf-modal-error"},Object(r.createElement)("div",{className:"bwf_clear_20"}),Object(r.createElement)("div",{className:"bwf-p",dangerouslySetInnerHTML:{__html:m.error}}),Object(r.createElement)("div",{className:"bwf_clear_20"}),Object(r.createElement)("div",{className:"bwf-modal-action".concat(isRtl?" wf_funnel_left_align":" wf_funnel_right_align")},Object(r.createElement)(f.Button,{className:"bwf-modal-confirm-btn",isPrimary:!0,onClick:U},Object(l.__)("OK","funnel-builder")))),!m.loading&&!m.error&&Object(r.createElement)(r.Fragment,null,Object(r.createElement)("div",{className:"bwf-exp-modal-note"},Object(l.__)("Overall traffic distribution between the templates should be 100%")),Object(r.createElement)("div",{className:c()("bwf-exp-traffic-fields",{"invalid-value":C})},h.map((function(e,t){return Object(r.createElement)(be.a,{key:t,className:e.control?"bwf-exp-original":"",label:e.title,value:e.traffic.toString()||"",prefix:e.control?Object(l.__)("Original"):Object(l.__)("Variant"),suffix:"%",onChange:function(e){return n=t,r=e,a=de(h),o=Math.trunc(r),o=100<parseInt(o)?a[n].traffic:o,a[n].traffic=o,void v(a);var n,r,a,o},trafficError:C,type:"number"})}))),C&&Object(r.createElement)("div",{className:"bwf-exp-modal-err wf_funnel_right_align"},"zero"===C?Object(l.__)("You can’t set 0% traffic distribution.","funnel-builder"):Object(l.__)("Traffic distribution total is not 100%","funnel-builder")),Object(r.createElement)("div",{className:"bwf-modal-action bwf-mt-24 ".concat(isRtl?" wf_funnel_left_align":" wf_funnel_right_align")},Object(r.createElement)(f.Button,{className:"bwf-modal-cancel-btn",onClick:U},"Cancel"),Object(r.createElement)(f.Button,{isPrimary:!0,onClick:function(){if(!A)if(h.find((function(e){return 0===parseInt(e.traffic)})))S("zero");else{var e=h.map((function(e){return parseFloat(e.traffic)})).reduce((function(e,t){return e+t}),0);100==Object(a.round)(e)?(Z(),S(!1),B&&H(!1)):S(!0)}},disabled:C},Object(r.createElement)("span",{style:ye({},D&&{visibility:"hidden"})},Object(l.__)("Confirm","funnel-builder")),D&&Object(r.createElement)(g.a,{color:"#ffffff",style:{position:"absolute"}})))))},Ee=n(19),Ce=n(79);function xe(e){return(xe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ke(){ke=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var o=t&&t.prototype instanceof h?t:h,i=Object.create(o.prototype),c=new N(r||[]);return a(i,"_invoke",{value:C(e,n,c)}),i}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var b="suspendedStart",m="executing",d="completed",p={};function h(){}function y(){}function v(){}var O={};s(O,i,(function(){return this}));var g=Object.getPrototypeOf,j=g&&g(g(L([])));j&&j!==n&&r.call(j,i)&&(O=j);var w=v.prototype=h.prototype=Object.create(O);function _(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){function n(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var s=l.arg,u=s.value;return u&&"object"==xe(u)&&r.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(u).then((function(e){s.value=e,i(s)}),(function(e){return n("throw",e,i,c)}))}c(l.arg)}var o;a(this,"_invoke",{value:function(e,r){function a(){return new t((function(t,a){n(e,r,t,a)}))}return o=o?o.then(a,a):a()}})}function C(t,n,r){var a=b;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(r.method=o,r.arg=i;;){var c=r.delegate;if(c){var l=x(c,r);if(l){if(l===p)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(a===b)throw a=d,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);a=m;var s=f(t,n,r);if("normal"===s.type){if(a=r.done?d:"suspendedYield",s.arg===p)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(a=d,r.method="throw",r.arg=s.arg)}}}function x(t,n){var r=n.method,a=t.iterator[r];if(a===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,x(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),p;var o=f(a,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,p;var i=o.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,p):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,p)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function N(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function L(t){if(t||""===t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function n(){for(;++a<t.length;)if(r.call(t,a))return n.value=t[a],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(xe(t)+" is not iterable")}return y.prototype=v,a(w,"constructor",{value:v,configurable:!0}),a(v,"constructor",{value:y,configurable:!0}),y.displayName=s(v,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,s(e,l,"GeneratorFunction")),e.prototype=Object.create(w),e},t.awrap=function(e){return{__await:e}},_(E.prototype),s(E.prototype,c,(function(){return this})),t.AsyncIterator=E,t.async=function(e,n,r,a,o){void 0===o&&(o=Promise);var i=new E(u(e,n,r,a),o);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},_(w),s(w,l,"Generator"),s(w,i,(function(){return this})),s(w,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=L,N.prototype={constructor:N,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(S),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function a(r,a){return c.type="throw",c.arg=t,n.next=r,a&&(n.method="next",n.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=r.call(i,"catchLoc"),s=r.call(i,"finallyLoc");if(l&&s){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,p):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),p},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),S(n),p}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;S(n)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:L(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),p}},t}function Se(e,t,n,r,a,o,i){try{var c=e[o](i),l=c.value}catch(e){return void n(e)}c.done?t(l):Promise.resolve(l).then(r,a)}function Ne(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,c=[],l=!0,s=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(c.push(r.value),c.length!==t);l=!0);}catch(e){s=!0,a=e}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(s)throw a}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Le(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Le(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Le(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var Pe=function(e){var t=Object(x.a)().setExperimentData,n=Object(k.a)().getExperimentData,o=e.onCloseModal,i=e.experiment_id,c=e.exp_title,s=Ne(Object(r.useState)(!1),2),b=s[0],m=s[1],d=Ne(Object(r.useState)(""),2),p=d[0],h=d[1],y=Ne(Object(r.useState)(),2),v=y[0],g=y[1],j=Ne(Object(r.useState)(c),2),w=j[0],_=j[1],E=Object(Ee.b)().showSnackbar;Object(r.useEffect)((function(){m(!1),g("")}),[]);var C=function(){var e,r=(e=ke().mark((function e(){var r,a;return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(w){e.next=3;break}return h("A/B Test title is required field"),e.abrupt("return");case 3:return h(""),e.prev=4,m(!0),e.next=8,u()({path:Object(O.u)("/experiment/".concat(i,"/")),method:"POST",data:{title:w}});case 8:(r=e.sent).status?(r.hasOwnProperty("exp_id")&&r.hasOwnProperty("message")&&n&&(a=n.map((function(e){return e.id===i&&(e.title=w),e})),t(a)),E(Object(l.__)("Changes Saved","funnel-builder")),m(!1),o()):r.message&&g(r.message),e.next=17;break;case 12:e.prev=12,e.t0=e.catch(4),console.log("Failed Traffic Distribution: "),console.log(e.t0),e.t0.message&&g(e.t0.message);case 17:case"end":return e.stop()}}),e,null,[[4,12]])})),function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){Se(o,r,a,i,c,"next",e)}function c(e){Se(o,r,a,i,c,"throw",e)}i(void 0)}))});return function(){return r.apply(this,arguments)}}();return Object(r.createElement)(f.Modal,{title:v?Object(l.__)("Failed"):Object(l.__)("Edit","funnel-builder"),className:"bwf-admin-modal bwf-admin-modal-small bwf-modal-edit-page bwf-admin-modal-no-header bwf-experiment-modal",onRequestClose:function(){return o()}},p&&Object(r.createElement)(Ce.a,{errorMessage:p}),Object(r.createElement)("div",{className:"bwf_clear_20"}),v?Object(r.createElement)("div",{className:""},Object(r.createElement)("div",{className:"bwf-p"},v),Object(r.createElement)("div",{className:"bwf_clear_20"}),Object(r.createElement)("div",{className:"bwf-modal-action".concat(isRtl?" wf_funnel_left_align":" wf_funnel_right_align")},Object(r.createElement)(R.a,{className:"bwf-modal-confirm-btn",isPrimary:!0,onClick:o},Object(l.__)("OK")))):Object(r.createElement)("div",{className:"bwf-form-fields",onKeyPress:function(e){"Enter"==e.key&&C()}},Object(r.createElement)(f.TextControl,{placeholder:Object(l.__)("Enter A/B Test Title","funnel-builder"),label:Object(l.__)("Title","funnel-builder"),value:w,onChange:function(e){return _(e)},disabled:b,className:Object(a.size)(w.trim())?"":"bwf-error-border"}),Object(a.size)(w.trim())?null:Object(r.createElement)("div",{style:{color:"#E15334",marginTop:"8px"}},Object(l.__)("Title is required","funnel-builder")),Object(r.createElement)("div",{className:"bwf-form-buttons bwf-mt-24 ".concat(isRtl?" wf_funnel_left_align":" wf_funnel_right_align")},Object(r.createElement)(R.a,{onClick:o,className:"bwf-modal-cancel-btn"},Object(l.__)("Cancel","funnel-builder")),Object(r.createElement)(R.a,{isPrimary:!0,disabled:!Object(a.size)(w.trim()),isBusy:b,onClick:C,className:Object(a.size)(w.trim())?"":"bwf-no-ripple"},Object(l.__)("Update","funnel-builder")))))};function Te(e){return(Te="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ae(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ie(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ae(Object(n),!0).forEach((function(t){Fe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ae(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Fe(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=Te(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Te(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Te(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var De=function(e){var t=e.list,n=e.closeModal,o=e.onAction,i=e.experiment_id,c=e.declareWinnerLoading;return Object(r.createElement)(f.Modal,{className:"bwf-c-s-delete-model bwf-admin-modal bwf-admin-modal-squeezy bwf-admin-modal-no-header",isDismissible:!1,onRequestClose:n},Object(r.createElement)("div",{className:"bwf-custom-header bwf-flex bwf--space-between"},Object(r.createElement)("div",{className:"bwf-modal-title"}),Object(r.createElement)("div",{className:"bwf-modal-close bwf-cursor-pointer",title:Object(l.__)("Close"),onClick:function(){return n()}},Object(r.createElement)(y.a,{icon:"close",size:20}))),Object(r.createElement)("div",{className:"bwf-custom-experiment-modal"},Object(r.createElement)("div",{className:"bwf-hero-svg",dangerouslySetInnerHTML:{__html:H.a}}),Object(r.createElement)("div",{className:"bwf-h1"},"Declaring Winner of A/B test"),t.map((function(e,t){return Object(r.createElement)(r.Fragment,{key:"bwf-declare-list-".concat(t)},Object(r.createElement)("div",{className:"bwf-declare-list",key:t},Object(r.createElement)("div",{className:"bwf-title"},Object(r.createElement)("span",null,e.title),Object(r.createElement)(W.c,{content:e.control?"Original":"Variant",type:e.control?"success":"primary"})),Object(r.createElement)(f.Button,{isPrimary:!0,className:"bwf-btn-small",onClick:function(){Object(a.size)(c)||o(i,e.id)}},Object(r.createElement)("span",{style:Ie({},c.includes(e.id)&&{visibility:"hidden"})},Object(l.__)("Winner","funnel-builder")),c.includes(e.id)&&Object(r.createElement)(g.a,{color:"#ffffff",style:{position:"absolute"}}))))})),Object(r.createElement)("div",{className:"bwf-modal-content-list"},Object(r.createElement)("div",{className:"modal-content-list-heading"},Object(l.__)("After you set this variant as the winner -","funnel-builder")),Object(r.createElement)("div",{className:"bwf-modal-list-wrap"},Object(r.createElement)("div",{className:"bwf-modal-list-item"},Object(r.createElement)(y.a,{icon:"circle-tick",size:16}),Object(l.__)("Winner variant will be live on your site","funnel-builder")),Object(r.createElement)("div",{className:"bwf-modal-list-item"},Object(r.createElement)(y.a,{icon:"circle-tick",size:16}),Object(l.__)("All the loosing variants will be archived & no longer available to the site visitors","funnel-builder")),Object(r.createElement)("div",{className:"bwf-modal-list-item"},Object(r.createElement)(y.a,{icon:"circle-tick",size:16}),Object(l.__)("You’ll always have access to this experiment untill you delete it","funnel-builder")),Object(r.createElement)("div",{className:"bwf-modal-list-item"},Object(r.createElement)(y.a,{icon:"circle-tick",size:16}),Object(l.__)("This experiment will be marked as completed","funnel-builder"))))))},Me=n(28),Re=n(131);function ze(e){return(ze="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Be(e){return function(e){if(Array.isArray(e))return Ye(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Ue(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ve(){Ve=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var o=t&&t.prototype instanceof h?t:h,i=Object.create(o.prototype),c=new N(r||[]);return a(i,"_invoke",{value:C(e,n,c)}),i}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var b="suspendedStart",m="executing",d="completed",p={};function h(){}function y(){}function v(){}var O={};s(O,i,(function(){return this}));var g=Object.getPrototypeOf,j=g&&g(g(L([])));j&&j!==n&&r.call(j,i)&&(O=j);var w=v.prototype=h.prototype=Object.create(O);function _(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){function n(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var s=l.arg,u=s.value;return u&&"object"==ze(u)&&r.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(u).then((function(e){s.value=e,i(s)}),(function(e){return n("throw",e,i,c)}))}c(l.arg)}var o;a(this,"_invoke",{value:function(e,r){function a(){return new t((function(t,a){n(e,r,t,a)}))}return o=o?o.then(a,a):a()}})}function C(t,n,r){var a=b;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(r.method=o,r.arg=i;;){var c=r.delegate;if(c){var l=x(c,r);if(l){if(l===p)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(a===b)throw a=d,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);a=m;var s=f(t,n,r);if("normal"===s.type){if(a=r.done?d:"suspendedYield",s.arg===p)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(a=d,r.method="throw",r.arg=s.arg)}}}function x(t,n){var r=n.method,a=t.iterator[r];if(a===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,x(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),p;var o=f(a,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,p;var i=o.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,p):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,p)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function N(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function L(t){if(t||""===t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function n(){for(;++a<t.length;)if(r.call(t,a))return n.value=t[a],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(ze(t)+" is not iterable")}return y.prototype=v,a(w,"constructor",{value:v,configurable:!0}),a(v,"constructor",{value:y,configurable:!0}),y.displayName=s(v,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,s(e,l,"GeneratorFunction")),e.prototype=Object.create(w),e},t.awrap=function(e){return{__await:e}},_(E.prototype),s(E.prototype,c,(function(){return this})),t.AsyncIterator=E,t.async=function(e,n,r,a,o){void 0===o&&(o=Promise);var i=new E(u(e,n,r,a),o);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},_(w),s(w,l,"Generator"),s(w,i,(function(){return this})),s(w,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=L,N.prototype={constructor:N,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(S),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function a(r,a){return c.type="throw",c.arg=t,n.next=r,a&&(n.method="next",n.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=r.call(i,"catchLoc"),s=r.call(i,"finallyLoc");if(l&&s){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,p):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),p},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),S(n),p}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;S(n)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:L(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),p}},t}function Ge(e,t,n,r,a,o,i){try{var c=e[o](i),l=c.value}catch(e){return void n(e)}c.done?t(l):Promise.resolve(l).then(r,a)}function He(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){Ge(o,r,a,i,c,"next",e)}function c(e){Ge(o,r,a,i,c,"throw",e)}i(void 0)}))}}function Ze(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,c=[],l=!0,s=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(c.push(r.value),c.length!==t);l=!0);}catch(e){s=!0,a=e}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(s)throw a}}return c}}(e,t)||Ue(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ue(e,t){if(e){if("string"==typeof e)return Ye(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ye(e,t):void 0}}function Ye(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var qe=function(e){var t=e.item,n=e.stepId,o=e.stepCount,i=(e.totalExp,e.funnelId),s=e.trafficModalRef,f=e.stepType,b=e.isOpened,d=t.id,p=t.title,h=t.variants,y=t.status,v=y?y.toLocaleLowerCase():"",g=Object(k.a)(),j=g.openTrafficModal,w=g.experiment_status,_=!(!j||"completed"==v),E=Ze(Object(r.useState)(!1),2),C=E[0],S=E[1],N=Ze(Object(r.useState)({}),2),L=N[0],P=N[1],T=Ze(Object(r.useState)(!0),2),A=T[0],I=T[1],F=Ze(Object(r.useState)(!1),2),D=F[0],z=F[1],B=Ze(Object(r.useState)({}),2),V=B[0],G=B[1],H=Ze(Object(r.useState)([]),2),Z=H[0],Y=H[1],W=Ze(Object(r.useState)(!1),2),$=W[0],K=W[1],J=Ze(Object(r.useState)(!1),2),Q=J[0],X=J[1],ee=Ze(Object(r.useState)(!1),2),te=ee[0],re=ee[1],ae=Ze(Object(r.useState)(!1),2),oe=ae[0],ie=ae[1],ce=Ze(Object(r.useState)([]),2),le=ce[0],se=ce[1],be=Ze(Object(r.useState)(""),2),me=be[0],de=be[1],pe=Ze(Object(r.useState)(_),2),he=pe[0],ye=pe[1],ve=Ze(Object(r.useState)(!1),2),Oe=ve[0],ge=ve[1],je=Object(x.a)().fetchExperimentData,we=Object(U.a)().setStepData,Ce=Object(q.a)(),xe=Ce.setStepHeaderData,ke=Ce.unsetStepData,Se=Object(Me.a)().setSingleStepData,Ne=Object(Ee.b)().showSnackbar,Le=Object(Re.a)().resetStepsData,Te=Object(r.useRef)(new AbortController);Object(r.useEffect)((function(){var e=new AbortController;A&&b&&v&&"draft"!==v&&Fe(e)}),[b,v,t]);var Ae=function(){return ye(!0)};Object(r.useEffect)((function(){0===o&&(s.current=Ae)}),[]);var Ie=(h?h[0].title:"")+Object(l.__)(" Variant "+h.length),Fe=function(){var e=He(Ve().mark((function e(){var t,n,r=arguments;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:{},e.prev=1,ge(!0),e.next=5,u()({path:Object(O.u)("/experiment/".concat(d,"/variants/")),method:"GET",signal:t.signal});case 5:n=e.sent,ge(!1),Object(a.isEmpty)(n)||G(n),I(!1),t=null,e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),console.log("Failed Analytics Call: ",e.t0);case 15:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(){return e.apply(this,arguments)}}(),ze=function(){var e=He(Ve().mark((function e(){var t;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Te.current.abort(),K(!0),e.prev=2,e.next=5,u()({path:Object(O.u)("/experiment/".concat(d,"/pause")),method:"POST"});case 5:(t=e.sent).status?(t.hasOwnProperty("step_data")&&(we(t.step_data),xe(f,n,["offer","bump"].includes(f)?n:"",t.step_data)),t.hasOwnProperty("step_list")&&(Se(t.step_list.id,t.step_list),Le(i)),je(n)):t.message&&(Ne(t.message),K(!1)),e.next=14;break;case 9:e.prev=9,e.t0=e.catch(2),console.log("Failed Pause Experiment: ",e.t0),(e.t0.message||e.t0.msg)&&Ne(e.t0.message||e.t0.msg),K(!1);case 14:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(){return e.apply(this,arguments)}}();Object(r.useEffect)((function(){"started"===w&&(X(!1),re(!1),P({})),"paused"===w&&K(!1),"completed"===w&&Object(a.size)(me)&&(se([]),ie(!1),Ne("".concat(me," has declared winner")),de(""))}),[w,me]);var Ge=function(){var e=He(Ve().mark((function e(){var t,a,o,c,l;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return re(!0),e.prev=1,e.next=4,u()({path:Object(O.u)("/experiment/".concat(d,"/start")),method:"POST"});case 4:(t=e.sent).status?(t.hasOwnProperty("step_data")&&(we(t.step_data),xe(f,n,["offer","bump"].includes(f)?n:"",t.step_data)),t.hasOwnProperty("step_list")&&(Se(t.step_list.id,t.step_list),Le(i)),je(n)):t.exp_id?(a=t.invalid_traffic,o=t.inactive_variant,c=t.inactive_variants,l=t.message,P({status:!0,closeIcon:!0,content:Object(r.createElement)(fe,{invalid_traffic:a,inactive_variant:o,inactive_variants_list:c,error_message:l,onRequestClose:function(){return P({})}})}),X(!1),re(!1)):(X(!1),re(!1),P({status:!0,loading:!1,error:t.message})),e.next=14;break;case 8:e.prev=8,e.t0=e.catch(1),console.log("Failed Pause Experiment: ",e.t0),e.t0.message&&P({status:!0,loading:!1,error:e.t0.message}),X(!1),re(!1);case 14:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}}();Object(r.useEffect)((function(){var e=h.filter((function(e){if(!["draft"].includes(v)&&!0===e.active)return e}));Y(e)}),[h]);var Ue=function(){var e=He(Ve().mark((function e(t,r){var a;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return se((function(e){return[].concat(Be(e),[r])})),e.prev=1,e.next=4,u()({path:Object(O.u)("/experiment/".concat(t,"/winner/").concat(r)),method:"POST"});case 4:(a=e.sent).status?(de(a.winner_title),a.hasOwnProperty("step_data")&&(we(a.step_data),xe(f,n,["offer","bump"].includes(f)?n:"",a.step_data)),a.hasOwnProperty("step_list")&&(Se(a.step_list.id,a.step_list),Le(i)),ke(f,n,["offer","bump"].includes(f)?n:""),je(n),Fe()):(a.message||a.msg)&&Ne(a.message||a.msg),e.next=13;break;case 8:e.prev=8,e.t0=e.catch(1),console.log("Failed Winner Declare: ",e.t0),(e.t0.message||e.t0.msg)&&Ne(e.t0.message||e.t0.msg),ie(!1);case 13:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t,n){return e.apply(this,arguments)}}();return Object(r.createElement)(r.Fragment,null,Object(r.createElement)("div",{className:c()("bwf-exp-step is-opened")},Object(r.createElement)("div",{className:"bwf-exp-body"},Array.isArray(h)&&!Object(a.isEmpty)(h)&&h.map((function(e,o){return Object(r.createElement)(ne,{key:"variant-".concat(o),variantIndex:o,variant_id:e.id,variant:e,experiment_id:d,title:p,funnelId:i,exp_status:v,stepId:n,fetchExperimentData:je,statsData:Object(a.isEmpty)(V)?{}:V[e.id],totalVariants:h.length,setOpenTrafficModal:ye,item:t,isVariantLoading:Oe})})),"completed"!==v&&Object(r.createElement)("div",{className:"bwf-exp-controls bwf-flex bwf--space-between"},Object(r.createElement)("div",null,"draft"===v&&Object(r.createElement)(R.a,{isSecondary:!0,onClick:function(){return S(!0)},className:"bwf-btn-small"},Object(l.__)("Add Variant","funnel-builder"))),Object(r.createElement)("div",{className:c()("bwf-flex bwf--g12",{"inactive-state":1==h.length})},Object(r.createElement)(R.a,{isSecondary:!0,onClick:function(){return ye(!0)},className:c()("bwf-btn-small",{"inactive-state":$||Q&&te})},Object(l.__)("Traffic Distribution","funnel-builder")),Object(a.size)(Z)?Object(r.createElement)(R.a,{isSecondary:!0,onClick:function(){return ie(!0)},className:c()("bwf-btn-small",{"inactive-state":$||Q&&te})},Object(l.__)("Declare Winner","funnel-builder")):null,"started"===v?Object(r.createElement)(R.a,{className:"is-danger is-small ".concat($?"bwf-disable":""),onClick:function(){$||ze()},isBusy:$},Object(l.__)("Stop","funnel-builder")):Object(r.createElement)(R.a,{isPrimary:!0,onClick:function(){Q&&te||P({status:!0,closeIcon:!1,clickOutside:!1,className:"bwf-start-experiment-model",content:Object(r.createElement)(ue,{onRequestClose:function(){P({}),X(!0)},onAction:function(){return Ge()}})})},isBusy:Q&&te,className:"bwf-btn-small bwf-no-ripple ".concat(Q&&te?"bwf-disable":"")},Object(l.__)("Start","funnel-builder"))))),C?Object(r.createElement)(M,{onRequestVariant:S,experiment_id:d,variantTitle:Ie}):null,he?Object(r.createElement)(_e,{variants:h,stepTitle:p,experiment_id:d,stepId:n,onRequestClose:function(){return ye(!1)},setOpenTrafficModal:ye,fetchExperimentData:je,abortControllerRef:Te}):null,oe?Object(r.createElement)(De,{list:Z,closeModal:function(){return ie(!1)},experiment_id:d,declareWinnerLoading:le,onAction:function(e,t){return Ue(e,t)}}):null,D&&Object(r.createElement)(Pe,{exp_title:p,experiment_id:d,onCloseModal:function(){return z(!1)}}),Object(r.createElement)(m.a,{className:c()("bwf-admin-modal-squeezy",L.className),confirmText:L.confirmText,confirmButtonText:L.buttonConfirm,loadingButtonText:L.loadingText,cancelButtonText:L.buttonCancel,onConfirm:L.onConfirm,isLoading:L.loading,successMessage:L.success,errorMessage:L.error,content:L.content,onRequestClose:function(){return P({status:!1})},modalTitle:L.modalTitle,disableConfirm:L.disableConfirm,isOpen:L.status,shouldCloseOnClickOutside:L.clickOutside,closeIcon:!L.hasOwnProperty("closeIcon")||L.closeIcon})))},We=n(41),$e=n(302),Ke=n(82),Je=n(320),Qe=n(289),Xe=n(34),et=function(e){var t=e.createExperiment,n=e.title,o=[{type:"icon",data:{content:Object(r.createElement)(y.a,{icon:"zero-experiment"})}},{type:"content",data:{class:"bwf-zero-state-heading-1",content:Object(l.__)("A/B Test this Step to uncover new insights","funnel-builder")}},{type:"buttons",data:{buttons:[{text:Object(l.__)("Create A/B test","funnel-builder"),proCheck:!1,onClick:function(){t()}}]}}];return Object(a.size)(n)?Object(r.createElement)(Qe.a,{data:o}):Object(r.createElement)("div",{className:"bwf-zero-state bwf-text-center"},Object(r.createElement)(Xe.a,{h:150,w:200,mb:24}),Object(r.createElement)(Xe.a,{h:24,w:246,mb:8}),Object(r.createElement)(Xe.a,{h:24,w:480,mb:24}),Object(r.createElement)(Xe.a,{h:36,w:136,mb:24}))},tt=n(74);function nt(e){return(nt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function rt(){rt=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var o=t&&t.prototype instanceof h?t:h,i=Object.create(o.prototype),c=new N(r||[]);return a(i,"_invoke",{value:C(e,n,c)}),i}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var b="suspendedStart",m="executing",d="completed",p={};function h(){}function y(){}function v(){}var O={};s(O,i,(function(){return this}));var g=Object.getPrototypeOf,j=g&&g(g(L([])));j&&j!==n&&r.call(j,i)&&(O=j);var w=v.prototype=h.prototype=Object.create(O);function _(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){function n(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var s=l.arg,u=s.value;return u&&"object"==nt(u)&&r.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(u).then((function(e){s.value=e,i(s)}),(function(e){return n("throw",e,i,c)}))}c(l.arg)}var o;a(this,"_invoke",{value:function(e,r){function a(){return new t((function(t,a){n(e,r,t,a)}))}return o=o?o.then(a,a):a()}})}function C(t,n,r){var a=b;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(r.method=o,r.arg=i;;){var c=r.delegate;if(c){var l=x(c,r);if(l){if(l===p)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(a===b)throw a=d,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);a=m;var s=f(t,n,r);if("normal"===s.type){if(a=r.done?d:"suspendedYield",s.arg===p)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(a=d,r.method="throw",r.arg=s.arg)}}}function x(t,n){var r=n.method,a=t.iterator[r];if(a===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,x(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),p;var o=f(a,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,p;var i=o.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,p):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,p)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function N(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function L(t){if(t||""===t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function n(){for(;++a<t.length;)if(r.call(t,a))return n.value=t[a],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(nt(t)+" is not iterable")}return y.prototype=v,a(w,"constructor",{value:v,configurable:!0}),a(v,"constructor",{value:y,configurable:!0}),y.displayName=s(v,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,s(e,l,"GeneratorFunction")),e.prototype=Object.create(w),e},t.awrap=function(e){return{__await:e}},_(E.prototype),s(E.prototype,c,(function(){return this})),t.AsyncIterator=E,t.async=function(e,n,r,a,o){void 0===o&&(o=Promise);var i=new E(u(e,n,r,a),o);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},_(w),s(w,l,"Generator"),s(w,i,(function(){return this})),s(w,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=L,N.prototype={constructor:N,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(S),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function a(r,a){return c.type="throw",c.arg=t,n.next=r,a&&(n.method="next",n.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=r.call(i,"catchLoc"),s=r.call(i,"finallyLoc");if(l&&s){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,p):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),p},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),S(n),p}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;S(n)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:L(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),p}},t}function at(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ot(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?at(Object(n),!0).forEach((function(t){it(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):at(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function it(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=nt(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=nt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==nt(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ct(e,t,n,r,a,o,i){try{var c=e[o](i),l=c.value}catch(e){return void n(e)}c.done?t(l):Promise.resolve(l).then(r,a)}function lt(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){ct(o,r,a,i,c,"next",e)}function c(e){ct(o,r,a,i,c,"throw",e)}i(void 0)}))}}function st(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,c=[],l=!0,s=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(c.push(r.value),c.length!==t);l=!0);}catch(e){s=!0,a=e}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(s)throw a}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return ut(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ut(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ut(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}t.default=function(e){Object(O.l)(Object(l.__)("A/B Test","funnel-builder"));var t=Object(o.useParams)(),n=t.id,i=t.stepId,s=e.funnelId,h=void 0===s?n:s,v=st(Object(r.useState)({}),2),g=v[0],j=v[1],w=st(Object(r.useState)(!1),2),_=w[0],E=w[1],C=st(Object(r.useState)(!0),2),S=C[0],N=C[1],L=st(Object(r.useState)(!1),2),P=L[0],T=L[1],A=st(Object(r.useState)(!1),2),I=A[0],F=A[1],D=st(Object(r.useState)(!1),2),M=D[0],R=D[1],z=st(Object(r.useState)(!1),2),B=z[0],V=z[1],G=p.a.getStepTitle(),H=p.a.getFunnelTitle(),Z=Object(Me.a)(),Y=Z.setFunnelTitle,$=Z.setUpdateFunnel,K=Z.setSingleStepData,J=Object(Re.a)().resetStepsData,Q=Object(q.a)().setStepHeaderData,X=Object(U.a)().setStepData,ee=Object(x.a)(),te=ee.fetchExperimentData,ne=ee.setExperimentLoading,re=ee.setExperimentStatus,ae=ee.setIsVariantLoading,oe=st(Object(r.useState)({status:!1}),2),ie=oe[0],ce=oe[1],le=p.a.getFunnel(),se=(0,Object(We.a)().getSubStep)(),ue=Object(k.a)(),fe=ue.getExperimentData,be=ue.isLoading,me=ue.funnel_title,de=ue.control_title,pe=ue.step_slug,he=(ue.exp_create,ue.message),ye=ue.found_posts,ve=ue.experiment_status,Oe=ue.type,ge=Object(r.useRef)(null),je=0,we="";Object(r.useEffect)((function(){T(0===ye)}),[ye]),Object(r.useEffect)((function(){R(!!P)}),[P]);var _e=function(e){return"started"===e?"2":"paused"===e?"3":"draft"===e?"1":"4"};Object(r.useEffect)((function(){if(Object(a.size)(null==le?void 0:le.steps)){var e=null==le?void 0:le.steps.map((function(e){var t;if(e.id.toString()===(null==i?void 0:i.toString()))return e.experiment_status=_e(ve),e;if(Object(a.size)(se)&&e.id.toString()===(null===(t=se.parentId)||void 0===t?void 0:t.toString())){var n="bump"===se.step?"wc_order_bump":"offer";return e.substeps[n]=e.substeps[n].map((function(e){return e.id.toString()===(null==i?void 0:i.toString())&&(e.experiment_status=_e(ve)),e})),e}return e}));le.steps=e;var t=JSON.parse(JSON.stringify(le));$(t)}}),[ve,se]),Object(r.useEffect)((function(){X({}),R(void 0===ve)}),[ve]),Object(r.useEffect)((function(){Object(a.size)(fe)&&re(fe[0].status.toLocaleLowerCase())}),[fe]),!fe||Object(a.isEmpty)(fe)||Object(a.isEmpty)(fe[0])||(we=fe[0].status?fe[0].status.toLowerCase():"",Object(a.isEmpty)(fe[0].variants)||fe[0].variants.forEach((function(e){e.active&&(je+=parseInt(e.traffic))})),Object(a.round)(je)),Object(r.useEffect)((function(){return te(i,!0),setTimeout((function(){jQuery(".bwfan_header_l2").addClass("bwfan_header_alter")})),function(){jQuery(".bwfan_header_l2").removeClass("bwfan_hide_border")}}),[]),Object(r.useEffect)((function(){be||H||Y(me)}),[be]);var Ee=function(){var e=lt(rt().mark((function e(){var t,n,r,o,c,l,s,f;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,R(!1),ne(!1),t=Array.isArray(fe)&&!Object(a.isEmpty)(fe)?fe.length:"",n=Array.isArray(fe)&&!Object(a.isEmpty)(fe)?Object(a.last)(fe):{},r=n.title,o=void 0===r?"":r,c=window.wffn.i18n,l=c.test,o.includes(l)&&(s=new RegExp("s*(?:"+l+")s*","i"),o=(o=o.split(s)[0]).trim()+" ".concat(l," ").concat(t+1)),e.next=11,u()({path:Object(O.u)("/experiment"),method:"POST",data:ot({control:i,type:pe,title:o},P?{default:!0}:{})});case 11:(f=e.sent).status&&f.message?(te(i),ne(!1),J(h)):f.message&&(F(f.message),ne(!1)),e.next=20;break;case 15:e.prev=15,e.t0=e.catch(0),F(e.t0.message||e.t0.msg),ne(!1),console.log("Failed Experiment Creation: ",e.t0);case 20:case"end":return e.stop()}}),e,null,[[0,15]])})));return function(){return e.apply(this,arguments)}}();Object(r.useEffect)((function(){var e,t=!0;return Object(a.isEmpty)(null===(e=fe[0])||void 0===e?void 0:e.variants)||(fe[0].variants.forEach((function(e){!0===e.active&&(t=!1)})),N(!!t)),function(){}}),[fe]),Object(r.useEffect)((function(){if(!fe||Object(a.isEmpty)(fe)||Object(a.isEmpty)(fe[0]))Object(a.isEmpty)(fe)&&E(!1);else{var e=fe[0],t=e.status,n=e.variants;if("completed"===t.toLowerCase())E(!1);else if(S)E(!1);else{var r=n.filter((function(e){return e.active})).map((function(e){return parseFloat(e.traffic)})).reduce((function(e,t){return e+t}),0);100==Object(a.round)(r)?E(!1):E(!0)}}}),[fe,S]);var xe={draft:Object(l.__)("Draft","funnel-builder"),started:Object(l.__)("A/B Test Running","funnel-builder"),paused:Object(l.__)("A/B Test Paused","funnel-builder")},ke={draft:"warning",started:"success",paused:"warning"},Se=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t?ke[e]:xe[e]},Ne=function(e){var t,n="success"===(t=Se(we,!0))?"#09B29C":"default"===t?"#353030":"warning"===t?"#B68F40":void 0;return Object(r.createElement)(r.Fragment,null,Object(r.createElement)(Ke.a,{fill:n}),Object(r.createElement)("span",{className:"".concat(void 0!==n?"bwf-mr-4":"")},Se(e)))};Object(r.useEffect)((function(){Object(a.size)(g)&&"deleteModal"===g.key&&(j({}),0===Object(a.size)(fe)&&R(!0))}),[fe]);var Le=function(){var e=lt(rt().mark((function e(t,n,r,a){var o;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,j(ot(ot({},a),{},{disableConfirm:!0})),e.next=4,u()({path:Object(O.u)("/experiment/".concat(t)),method:"DELETE"});case 4:(o=e.sent).status?(o.hasOwnProperty("step_data")&&(X({}),Q(pe,i,["offer","bump"].includes(pe)?i:"",o.step_data)),o.hasOwnProperty("step_list")&&(K(o.step_list.id,o.step_list),J(h)),te(i)):o.message&&(j({}),F(o.message)),e.next=14;break;case 8:e.prev=8,e.t0=e.catch(0),j({}),console.log("Failed Experiment Deletion: "),console.log(e.t0),F(e.t0.message||e.t0.msg);case 14:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,n,r,a){return e.apply(this,arguments)}}(),Te=function(){var e=lt(rt().mark((function e(t,n){var a;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,j({status:!0,modalTitle:Object(l.__)("Reset A/B Test"),buttonCancel:Object(l.__)("Cancel","funnel-builder"),buttonConfirm:Object(l.__)("Reset","funnel-builder"),loadingText:Object(l.__)("Reseting…","funnel-builder"),content:Object(r.createElement)(r.Fragment,null,Object(l.__)("You are about to reset ","funnel-builder"),Object(r.createElement)("strong",null,n),Object(l.__)(" A/B Test. This will reset all the analytics such as traffic allocation, views, clicks, conversion rates. Cancel to stop, Reset to proceed.","funnel-builder")),disableConfirm:!0}),e.next=4,u()({path:Object(O.u)("/experiment/".concat(t,"/reset")),method:"POST"});case 4:(a=e.sent).status?(j({}),te(i),ae(!0)):a.message&&(j({}),F(a.message)),e.next=13;break;case 8:e.prev=8,e.t0=e.catch(0),console.log("Failed Reset Analytics: "),console.log(e.t0),e.t0.message&&(j({}),F(e.t0.message));case 13:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,n){return e.apply(this,arguments)}}(),Ae=function(e,t){var n=e.id,o=e.title,c=e.date_added,s=e.date_started,u=e.date_completed,f=(e.variants,e.status),b=f?f.toLocaleLowerCase():"";return{key:t,label:Object(r.createElement)("div",{className:"bwf-exp-head"},Object(r.createElement)("div",{className:"bwf-head-left bwf-flex bwf--g12"},Object(r.createElement)("div",{className:"bwf-exp-title-wrap"},Object(r.createElement)("div",{className:"bwf-exp-title"},o)),"draft"===b&&Object(r.createElement)("div",{className:"bwf-exp-date"},Object(l.__)("Created on","funnel-builder")," ",c),("paused"===b||"started"===b)&&Object(r.createElement)("div",{className:"bwf-exp-date"},Object(l.__)("Started on","funnel-builder")," ",s),"completed"===b&&Object(r.createElement)("div",{className:"bwf-exp-date"},Object(l.__)("Completed on","funnel-builder")," ",u),function(e){var t="";switch(e){case"started":t=Object(l.__)("A/B Test Running");break;case"paused":t=Object(l.__)("A/B Test Paused");break;case"draft":t=Object(l.__)("Draft")}return Object(a.isEmpty)(t)?null:Object(r.createElement)(W.c,{content:Ne(e),type:Se(e,!0)})}(b)),Object(r.createElement)("div",{className:"bwf-head-right bwf-flex bwf--g16"},Object(r.createElement)(tt.a,{toolTipText:Object(l.__)("Edit","funnel-builder")},Object(r.createElement)("span",{className:"bwf-hover-primary bwf-cursor-pointer bwf-flex bwf--center",onClick:function(e){e.stopPropagation(),ce({status:!0,title:o,experiment_id:n})}},Object(r.createElement)(y.a,{icon:"edit",width:"16",height:"16",color:"#353030"}))),Object(r.createElement)(tt.a,{toolTipText:Object(l.__)("Delete","funnel-builder")},Object(r.createElement)("span",{className:"bwf-hover-primary bwf-cursor-pointer bwf-flex bwf--center",onClick:function(e){e.stopPropagation(),function(e,t,n){var a={modalTitle:Object(l.__)("Delete A/B Test","funnel-builder"),content:Object(r.createElement)(r.Fragment,null,Object(l.__)("You are about to delete ","funnel-builder"),Object(r.createElement)("strong",null,t),Object(l.__)(" A/B Test. This action cannot be undone. Cancel to stop, Delete to proceed.","funnel-builder")),buttonCancel:Object(l.__)("Cancel","funnel-builder"),buttonConfirm:Object(l.__)("Delete","funnel-builder"),confirmButtonClass:"is-danger",status:!0,closeIcon:!0,key:"deleteModal"};j(ot(ot({},a),{},{onConfirm:function(){return Le(e,t,n,a)}}))}(n,o,fe.length)}},Object(r.createElement)(y.a,{icon:"trash",width:"16",height:"16"}))),("started"===b||"paused"===b)&&Object(r.createElement)(tt.a,{toolTipText:Object(l.__)("Reset","funnel-builder")},Object(r.createElement)("span",{className:"bwf-hover-primary bwf-cursor-pointer bwf-flex bwf--center",onClick:function(e){e.stopPropagation(),function(e,t){j({status:!0,buttonCancel:Object(l.__)("Cancel","funnel-builder"),buttonConfirm:Object(l.__)("Reset","funnel-builder"),loadingText:Object(l.__)("Reseting…","funnel-builder"),modalTitle:Object(l.__)("Reset A/B Test"),content:Object(r.createElement)(r.Fragment,null,Object(l.__)("You are about to reset ","funnel-builder"),Object(r.createElement)("strong",null,t),Object(l.__)(" A/B Test. This will reset all the analytics such as traffic allocation, views, clicks, conversion rates. Cancel to stop, Reset to proceed.","funnel-builder")),onConfirm:function(){return Te(e,t)},closeIcon:!0,key:"resetModal"})}(n,o)}},Object(r.createElement)(y.a,{icon:"reset-2",size:16}))))),display:Object(r.createElement)(qe,{key:"experiment-".concat(t),item:e,stepCount:t,stepId:i,stepTitle:G,stepType:pe,type:Oe,totalExp:fe.length,funnelId:h,trafficModalRef:ge})}};return Object(r.createElement)("div",null,Object(r.createElement)(b.a,null),_&&"paused"!==we&&Object(r.createElement)(f.Notice,{status:"error",isDismissible:!1,className:"bwf_custom_notice"},Object(l.__)("Alert: Sum of all the traffic percentage should be 100% "),"  ",Object(r.createElement)(f.Button,{onClick:function(){return ge.current()},className:"bwf-btn-small is-error"},Object(l.__)("Adjust Traffic"))),I&&Object(r.createElement)(r.Fragment,null,Object(r.createElement)(b.a,null),Object(r.createElement)(Ce.a,{errorMessage:I}),Object(r.createElement)("div",{className:"bwf_clear_20"})),Object(r.createElement)("div",{className:"bwf-step-panel-wrapper"},M?Object(r.createElement)(et,{createExperiment:function(){return Ee()},title:de}):(be&&0===Object(a.size)(fe)||!Object(a.size)(fe))&&Object(r.createElement)(Je.a,{count:2}),(!be||Object(a.size)(fe)>0)&&Array.isArray(fe)&&!Object(a.isEmpty)(fe)?Object(r.createElement)(r.Fragment,null,Object(r.createElement)($e.a,{items:fe.map((function(e,t){return Ae(e,t)})),className:"bwf-accordion bwf-c-s-collapsible__md",handleIcons:"up-down",firstItemOpen:!1,returnProps:!0}),Object(r.createElement)("div",{className:"bwf-brown-light-notice bwf-style-3"},Object(r.createElement)(y.a,{icon:"bulb"}),Object(r.createElement)("div",{className:"bwf-text-style-2"},Object(l.__)("Recommendation: ","funnel-builder"),Object(r.createElement)("span",{className:"bwf-font-normal"},Object(l.__)("To have correct A/B Test Analytics, please ensure that Original and Variants are properly excluded from cache. ","funnel-builder")),Object(r.createElement)("a",{onClick:function(){return V(!0)}},Object(l.__)("Learn More"))))):he),ie.status&&Object(r.createElement)(Pe,{exp_title:ie.title,experiment_id:ie.experiment_id,onCloseModal:function(){return ce({status:!1})}}),B&&Object(r.createElement)(d.a,{onCloseModal:function(){return V(!1)},experimentData:fe[0],funnelId:h}),Object(r.createElement)(m.a,{className:c()(g.className),confirmText:g.confirmText,confirmButtonText:g.buttonConfirm,confirmButtonClass:g.confirmButtonClass,cancelButtonText:g.buttonCancel,onConfirm:g.onConfirm,isLoading:g.loading,successMessage:g.success,errorMessage:g.error,content:g.content,onRequestClose:function(){return j({status:!1})},modalTitle:g.modalTitle,isOpen:g.status,closeIcon:g.closeIcon,disableConfirm:g.disableConfirm}))}},284:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(0),a=n(5),o=n.n(a),i=(n(299),["className","onChange","label","color","disabled"]);function c(){return(c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}function l(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,c=[],l=!0,s=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(c.push(r.value),c.length!==t);l=!0);}catch(e){s=!0,a=e}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(s)throw a}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return s(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function u(e){var t=e.className,n=e.onChange,a=e.label,s=e.color,u=e.disabled,f=function(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(e,i),b=l(Object(r.useState)(!0),2),m=b[0],d=b[1],p=Object(r.useRef)();return Object(r.createElement)("div",{className:o()("bwf-checkbox-control bwf-checkbox",t)},Object(r.createElement)("span",{className:"bwf-checkbox-control-inner"},Object(r.createElement)("input",c({type:"checkbox"},f,{onChange:function(e){u||(n(e.target.checked),d(!1))},ref:p,className:o()({"bwf-no-animation":m,"bwf-disable":u}),style:{"--current-checkbox-color":s}}))),a&&Object(r.createElement)("label",{className:"bwf-checkbox-control__label ".concat(u?"bwf-disable":""),onClick:function(){return p.current.click()}},a))}},289:function(e,t,n){"use strict";var r=n(0),a=n(5),o=n.n(a),i=n(2),c=n(9),l=n(42),s=(n(303),n(6));function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(){return(f=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}t.a=function(e){var t=e.data,n=void 0===t?[]:t,a=e.className,b=e.center,m=void 0!==b&&b,d=e.isDismissive,p=void 0!==d&&d,h=e.onDismisal,y=void 0===h?function(){}:h,v=e.isProFeatureLocked;if(Object(i.isEmpty)(n))return!1;return Object(r.createElement)("div",{className:o()("bwf-zero-state",a,{"bwf-block-t-center":m})},p&&Object(r.createElement)("span",{className:"bwf-layout-dismiss",onClick:function(){return y()},style:{transform:"rotate(45deg)"}},Object(r.createElement)(s.a,{icon:"plus",color:"#353030"})),Object(r.createElement)("div",{className:"bwf-zero-state-wrap"},n.map((function(e,t){return Object(r.createElement)(r.Fragment,{key:"section--"+t},function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"icon":return Object(r.createElement)("div",{className:o()("bwf-zero-sec bwf-zero-sec-"+e,t.class)},t.content);case"actions":return Object(r.createElement)(l.a,{className:o()("bwf-zero-sec bwf-zero-sec-"+e,t.class),gap:4},t.actions.map((function(e,t){return Object(r.createElement)(l.a,{key:"layout-block-"+t,className:o()("bwf-shadow"),gap:3,onClick:e.onClick},Object(r.createElement)(l.c,null,Object(r.createElement)("div",{className:"bwf-circle-mockup"},e.icon)),Object(r.createElement)(l.b,{className:"bwf_text_left"},e.heading&&Object(r.createElement)("div",{className:"bwf-zero-sec-action-head",dangerouslySetInnerHTML:{__html:e.heading}}),e.sub_heading&&Object(r.createElement)("div",{className:"bwf-zero-sec-action-subhead",dangerouslySetInnerHTML:{__html:e.sub_heading}}),v&&Object(r.createElement)("div",{className:"bwf-zero-sec-lock"},Object(r.createElement)(s.a,{icon:"king",width:"18",height:"18"}))))})));case"buttons":return Object(r.createElement)(l.a,{className:o()("bwf-zero-sec bwf-zero-sec-"+e,t.class),gap:4},t.buttons.map((function(e,t){return Object(r.createElement)(c.Button,f({isPrimary:!0,key:t,onClick:e.onClick,className:"".concat(e.className," bwf-no-ripple")},e.props),!1!==e.proCheck&&v&&Object(r.createElement)("span",{className:"bwf-zero-sec-lock"},Object(r.createElement)(s.a,{icon:"king",width:"20",height:"20"})),e.text)})));default:return Object(r.createElement)("div",{className:o()("bwf-zero-sec bwf-zero-sec-"+e,t.class),style:t.style},t.content&&("object"===u(t.content)?t.content:Object(r.createElement)("div",{dangerouslySetInnerHTML:{__html:t.content}})))}}(e.type,e.data))}))))}},294:function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return f})),n.d(t,"c",(function(){return b}));var r=n(0),a=n(282);function o(){return(o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,c=[],l=!0,s=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(c.push(r.value),c.length!==t);l=!0);}catch(e){s=!0,a=e}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(s)throw a}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return c(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var l=function(e){return function(t){return Object(r.createElement)(a.a,{onDragEnd:function(e){var n=e.destination,r=e.source;if(n){var a=Array.from(t.items),o=i(a.splice(r.index,1),1)[0];a.splice(n.index,0,o),t.onSortEnd&&t.onSortEnd({oldIndex:r.index,newIndex:n.index,items:a})}}},Object(r.createElement)(a.c,{droppableId:"droppable"},(function(n){return Object(r.createElement)(r.Fragment,null,Object(r.createElement)(e,o({},n.droppableProps,t,{provided:n})),n.placeholder)})))}},s=["id","index"];function u(){return(u=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}var f=function(e){return function(t){var n=t.id,o=t.index,i=function(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(t,s);return Object(r.createElement)(a.b,{draggableId:n.toString(),index:o,key:n},(function(t,n){return Object(r.createElement)(e,u({index:o,provided:t},i,{isDragging:n.isDragging}))}))}},b=function(e){return function(t){var n;return Object(r.createElement)("div",null===(n=t.provided)||void 0===n?void 0:n.dragHandleProps,Object(r.createElement)(e,t))}}},296:function(e,t,n){},299:function(e,t,n){},302:function(e,t,n){"use strict";var r=n(0),a=n(3),o=n.n(a),i=(n(296),n(294)),c=(n(9),n(6)),l=n(1),s=n(2);function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){m(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function m(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=u(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=u(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==u(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(e){return function(e){if(Array.isArray(e))return y(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||h(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,c=[],l=!0,s=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(c.push(r.value),c.length!==t);l=!0);}catch(e){s=!0,a=e}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(s)throw a}}return c}}(e,t)||h(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,t){if(e){if("string"==typeof e)return y(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?y(e,t):void 0}}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}t.a=function(e){var t=e.groupID,n=e.items,a=void 0===n?[{key:"",label:"",display:Object(r.createElement)("p",null)}]:n,u=e.className,f=void 0===u?"":u,m=e.sortable,h=e.groupData,y=e.handleClick,v=e.actions,O=e.handleIcons,g=e.openedTabs,j=(void 0===g&&s.noop,e.openedKeys),w=e.setOpenedKeys,_=e.returnProps,E=void 0!==_&&_,C=p(Object(r.useState)(j||[0]),2),x=C[0],k=C[1],S={};a.forEach((function(e){S[e.key]=Object(r.createRef)()})),Object(r.useEffect)((function(){void 0!==j&&k(j)}),[j]),Object(r.useEffect)((function(){void 0!==w&&w(x)}),[x]),Object(r.useEffect)((function(){var e=Object.keys(S)[0],t=function(t){jQuery(S[t].current).on("click",(function(n){var r=Object(s.isString)(n.target.className)&&n.target.className.split(" ");if(r&&!r.includes("components-form-toggle__input")&&!r.includes("components-toggle-control__label")){var a=jQuery(this).parents(".bwf-c-s-collapsible");t!==e||a.hasClass("bwf-accordion-closed")?t===e&&a.hasClass("bwf-accordion-closed")?(a.find(".bwf-c-s-full").stop().slideDown(400),a.removeClass("bwf-accordion-closed")):a.hasClass("bwf-accordion-closed")?(a.find(".bwf-c-s-full").stop().slideUp(400),a.removeClass("bwf-accordion-closed")):(a.find(".bwf-c-s-full").stop().slideDown(400),a.addClass("bwf-accordion-closed")):(a.find(".bwf-c-s-full").stop().slideUp(400),a.addClass("bwf-accordion-closed"))}}))};for(var n in S)t(n)}),[]);var N=Object(i.c)((function(){return Object(r.createElement)(c.a,{icon:"menu"})}));return Object(r.createElement)("div",{className:"bwf-accordian-list"},a&&a.map((function(e,n){return e.hasOwnProperty("key")?Object(r.createElement)("div",{key:e.key,"data-accordion":n,className:f+" bwf-c-s-collapsible"},Object(r.createElement)("div",{className:"bwf-c-s-heading",ref:S[e.key],onClick:function(e){-1===x.indexOf(n)?k((function(e){return[].concat(d(e),[n])})):setTimeout((function(){k((function(e){return e.filter((function(e){return e!==n}))}))}),400)}},m&&Object(r.createElement)(N,null),Object(r.createElement)("div",{className:"bwf-accordion-label-elm"},e.label),v&&v.map((function(e){return e.hasOwnProperty("key")?Object(r.createElement)("a",{onClick:function(n){n.preventDefault(),y(e.key,t,"group",0,h)},href:"",key:e.key,className:"bwf-accordion-"+e.class},Object(l.__)(null==e?void 0:e.label,"funnel-builder")):null})),Object(r.createElement)("div",{className:"bwf-c-s-icon"},"plus-minus"===O?Object(r.createElement)(c.a,{icon:x.includes(n)?"minus":"plus-3"}):Object(r.createElement)(c.a,{icon:x.includes(n)?"angle-up":"angle-down",width:"16",height:"18"}))),Object(r.createElement)("div",{className:"bwf-c-s-full bwf-c-s-allow-edit bwf-accordion bwf-hide",style:b({},x.includes(n)&&{display:"block"})},e.hint,o.a.isValidElement(e.display)?o.a.cloneElement(e.display,E?{isOpened:x.includes(n)}:{}):e.display)):null})))}},303:function(e,t,n){},320:function(e,t,n){"use strict";var r=n(0);n(296);function a(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return o(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}t.a=function(e){var t=e.count,n=void 0===t?10:t,o=e.className,i=void 0===o?"":o;return Object(r.createElement)("div",{className:"bwf-accordion-placeholder ".concat(i)},a(Array(n)).map((function(e,t){return Object(r.createElement)("div",{className:"bwf-mb-16 bwf-c-s-collapsible",key:"bwf-accordion-placeholder__".concat(t),"data-accordion":t},Object(r.createElement)("div",{className:"bwf-placeholder-temp"}),Object(r.createElement)("div",{className:"bwf-placeholder-temp"}))})))}},360:function(e,t,n){},373:function(e,t,n){"use strict";var r=n(0),a=n(1),o=n(9),i=n(22),c=n(2),l=n(277);function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,c=[],l=!0,s=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(c.push(r.value),c.length!==t);l=!0);}catch(e){s=!0,a=e}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(s)throw a}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return u(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var f=function(e){var t,n,o,u=e.title,f=e.desc,b=e.options,m=s(Object(r.useState)(null===(t=b[0])||void 0===t?void 0:t.key),2),d=m[0],p=m[1],h=function(e){return b.find((function(t){return t.key===e}))};return Object(r.createElement)("div",{className:"bwf-card"},Object(r.createElement)("div",{className:"bwf-text-style-7"},u),Object(r.createElement)(l.b,{className:"bwf-mt-16",options:b,selected:d,onChange:function(e){return p(e)}}),Object(r.createElement)("div",{className:"bwf-mt-12 bwf-text-style-3 bwf-color-normal"},f),Object(r.createElement)("div",{className:"bwf-flex bwf-mt-24 bwf--space-between"},Object(c.size)(null===(n=h(d))||void 0===n?void 0:n.setting_url)?Object(r.createElement)(i.a,{className:"bwf-btn-gray is-secondary is-small"},Object(a.__)("Go to Settings","funnel-builder")):null,Object(r.createElement)("a",{href:null===(o=h(d))||void 0===o?void 0:o.documentation_url,target:"__blank",className:"bwf-text-bold"},Object(a.__)("View Docs","funnel-builder"))))},b=(n(360),n(307)),m=function(e){var t,n=e.experimentData;if(Object(c.size)(null==n?void 0:n.post_slug)||Object(c.size)(null==n?void 0:n.variants))return Object(r.createElement)(r.Fragment,null,Object(r.createElement)("div",{className:"bwf-url-list"},Object(c.size)(null==n?void 0:n.post_slug)?Object(r.createElement)("div",{className:"bwf-container"},Object(r.createElement)("div",{className:"bwf-break-word"},Object(r.createElement)("span",{className:"bwf-text-light"},null==n?void 0:n.title,":")),Object(r.createElement)("div",{className:"bwf-break-word"},Object(r.createElement)("span",null,"/",null==n?void 0:n.post_slug))):null,Object(c.size)(null==n?void 0:n.variants)?null==n||null===(t=n.variants)||void 0===t?void 0:t.map((function(e,t){var n=e.title,a=e.control,o=e.post_slug,i=e.isControl,c=void 0!==i&&i,l=e.view_link,s=l?new URL(l).pathname.replace(/^\//,""):"";return Object(r.createElement)("div",{className:"bwf-container",key:t},Object(r.createElement)("div",{className:"bwf-break-word"},Object(r.createElement)("span",{className:"bwf-text-light"},n,":"),c?Object(r.createElement)("span",{className:"bwf-text-style-3"},"  ( ".concat(a?"Original":"Variant"," )")):null),Object(r.createElement)("div",{className:"bwf-break-word"},Object(r.createElement)("span",null,"/",o||s)))})):null))},d=[{title:Object(a.__)("Plugins","funnel-builder"),desc:Object(a.__)("Add the URLs in plugin settings to exclude them from cache.","funnel-builder"),key:"plugins"},{title:Object(a.__)("CDNs","funnel-builder"),desc:Object(a.__)("Add the URLs in the CDN's panel to exclude from cache.","funnel-builder"),key:"cdns"},{title:Object(a.__)("Hostings","funnel-builder"),desc:Object(a.__)("Add the URLs in Hosting's panel to exclude from cache.","funnel-builder"),key:"hostings"}],p={variants:[{id:5259,edit:"http://admin.local/wp-admin/admin.php?page=wfacp&wfacp_id=5259",title:"Checkout",desc:"",traffic:"20",control:!0,winner:!1,active:!0,view_link:"http://admin.local/checkouts/checkout-5/"},{id:5390,edit:"http://admin.local/wp-admin/admin.php?page=wfacp&wfacp_id=5390",title:"Checkout – Copy",desc:"",traffic:"40",control:!1,winner:!1,active:!0,view_link:"http://admin.local/checkouts/checkout-copy-19/"},{id:5392,edit:"http://admin.local/wp-admin/admin.php?page=wfacp&wfacp_id=5392",title:"Checkout – Copy",desc:"",traffic:"40",control:!1,winner:!1,active:!0,view_link:"http://admin.local/checkouts/checkout-copy-20/"}]},h=[{label:"W3 Total Cache",key:"w3-total-cache",documentation_url:"https://funnelkit.com/docs/aerocheckout/caching/w3-total-cache/",setting_url:"",type:"plugins"},{label:"WP Super Cache",key:"wp-cache",documentation_url:"https://funnelkit.com/docs/aerocheckout/caching/wp-super-cache/",setting_url:"",type:"plugins"},{label:"WP Fastest Cache",key:"wpFastestCache",documentation_url:"https://funnelkit.com/docs/aerocheckout/caching/wp-fastest-cache/",setting_url:"",type:"plugins"},{label:"WP Rocket Cache",key:"wp-rocket",documentation_url:"https://funnelkit.com/docs/aerocheckout/caching/wp-rocket/",setting_url:"",type:"plugins"},{label:"Comet Cache",key:"comet-cache",documentation_url:"https://funnelkit.com/docs/aerocheckout/caching/comet-cache/",setting_url:"",type:"plugins"},{label:"LiteSpeed Cache",key:"litespeed-cache",documentation_url:"https://funnelkit.com/docs/aerocheckout/caching/litespeed-cache/",setting_url:"",type:"plugins"},{label:"Hyper Cache",key:"plugin",documentation_url:"https://funnelkit.com/docs/aerocheckout/caching/hyper-cache/",setting_url:"",type:"plugins"},{label:"Cachify Cache",key:"cachify",documentation_url:"https://funnelkit.com/docs/aerocheckout/caching/cachify/",setting_url:"",type:"plugins"},{label:"Simple Cache",key:"simple-cache",documentation_url:"https://funnelkit.com/docs/aerocheckout/caching/simple-cache/",setting_url:"",type:"plugins"},{label:"WP Hummingbird Cache",key:"wp-hummingbird",documentation_url:"https://funnelkit.com/docs/aerocheckout/caching/hummingbird-page-speed-optimization/",setting_url:"",type:"plugins"},{label:"SiteGround",key:"siteGround",documentation_url:"https://funnelkit.com/docs/checkout-pages/caching/siteground/",setting_url:"",type:"plugins"},{label:"Breeze",key:"breeze",documentation_url:"https://funnelkit.com/docs/checkout-pages/caching/breeze-cloudways/",setting_url:"",type:"plugins"},{label:"WP Engine",key:"wp-engine",documentation_url:"https://funnelkit.com/docs/checkout-pages/hosting-caching/wp-engine/",setting_url:"",type:"hostings"},{label:"Kinsta",key:"kinsta",documentation_url:"https://funnelkit.com/docs/checkout-pages/hosting-caching/kinsta/",setting_url:"",type:"hostings"},{label:"Bluehost",key:"bluehost",documentation_url:"https://funnelkit.com/docs/checkout-pages/hosting-caching/bluehost/",setting_url:"",type:"hostings"},{label:"Flywheel",key:"flywheel",documentation_url:"https://funnelkit.com/docs/checkout-pages/hosting-caching/flywheel/",setting_url:"",type:"hostings"},{label:"DreamHost",key:"dreamhost",documentation_url:"https://funnelkit.com/docs/checkout-pages/hosting-caching/dreamhost/",setting_url:"",type:"hostings"},{label:"Pressable",key:"pressable",documentation_url:"https://funnelkit.com/docs/checkout-pages/hosting-caching/pressable/",setting_url:"",type:"hostings"},{label:"Pagely",key:"pagely",documentation_url:"https://funnelkit.com/docs/checkout-pages/hosting-caching/pagely/",setting_url:"",type:"hostings"},{label:"Cloudways",key:"cloudways",documentation_url:"https://funnelkit.com/docs/checkout-pages/hosting-caching/cloudways/",setting_url:"",type:"hostings"},{label:"Cloudflare",key:"cloudflare",documentation_url:"https://funnelkit.com/docs/checkout-pages/hosting-caching/cloudflare/",setting_url:"",type:"hostings"},{label:"KeyCDN",key:"keycdn",documentation_url:"https://funnelkit.com/docs/checkout-pages/cdn-caching/keycdn/",setting_url:"",type:"cdns"},{label:"BunnyCDN",key:"bunnycdn",documentation_url:"https://funnelkit.com/docs/checkout-pages/cdn-caching/bunnycdn/",setting_url:"",type:"cdns"},{label:"WP Engine",key:"wp engine",documentation_url:"https://funnelkit.com/docs/checkout-pages/cdn-caching/wp-engines-cdn/",setting_url:"",type:"cdns"},{label:"Kinsta",key:"kinstaa",documentation_url:"https://funnelkit.com/docs/checkout-pages/cdn-caching/kinstas-cdn/",setting_url:"",type:"cdns"},{label:"SiteGround",key:"siteGround",documentation_url:"https://funnelkit.com/docs/checkout-pages/cdn-caching/siteground-cdn/",setting_url:"",type:"cdns"},{label:"Jetpack",key:"jetpack",documentation_url:"https://funnelkit.com/docs/checkout-pages/cdn-caching/jetpacks-site-accelerator/",setting_url:"",type:"cdns"},{label:"Amazon CloudFront",key:"amazon-cloudFront",documentation_url:"https://funnelkit.com/docs/checkout-pages/cdn-caching/amazon-cloudfront/",setting_url:"",type:"cdns"}];function y(){return(y=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}t.a=function(e){var t=e.onCloseModal,n=e.experimentData,i=e.funnelId;return Object(c.isEmpty)(n)&&(n=p),Object(r.createElement)(o.Modal,{className:"bwf-admin-modal bwf-admin-modal-xl bwf-admin-modal-no-header bwf-custom-experiment-modal bwf-cache-modal",isDismissible:!0,onRequestClose:t},Object(r.createElement)(b.a,{title:Object(a.__)("How to exclude pages from cache?","funnel-builder"),onClose:function(){return t()}}),Object(r.createElement)("div",{className:"bwf-t-left"},Object(a.__)("Checkouts & Offers are dynamic pages whose URLs need to be excluded from caching Plugins, CDNs and Hosting providers.","funnel-builder")),Object(r.createElement)("div",{className:"bwf-mt-24"},Object(r.createElement)("section",{className:"bwf-cs__timeline-item is-active"},Object(r.createElement)("div",{className:"bwf-cs__timeline-item-title"},Object(r.createElement)("span",{className:"bwf-cs__timeline-status is-active"}),Object(r.createElement)("span",null,Object(a.__)("Step 1: Choose Caching Provider","funnel-builder"))),Object(r.createElement)("div",{className:"bwf-cs__timeline-item-body bwf-flex bwf--space-between"},d.map((function(e){var t=h.filter((function(t){return t.type===e.key}));return Object(r.createElement)(f,y({},e,{key:e.key,options:t}))})))),Object(r.createElement)("section",{className:"bwf-cs__timeline-item is-active"},Object(r.createElement)("div",{className:"bwf-cs__timeline-item-title"},Object(r.createElement)("span",{className:"bwf-cs__timeline-status is-active"}),Object(r.createElement)("span",null,Object(a.__)("Step 2: Add URLs to Exclusion List","funnel-builder"))),Object(r.createElement)("div",{className:"bwf-cs__timeline-item-body"},Object(r.createElement)(m,{experimentData:n,funnelId:i}),Object(r.createElement)("div",{className:"bwf-text-style-3 bwf-color-normal"},Object(a.__)("Use wildcard characters as recommended by your caching provider to exclude all urls in one go","funnel-builder")))),Object(r.createElement)("section",{className:"bwf-cs__timeline-item is-active"},Object(r.createElement)("div",{className:"bwf-cs__timeline-item-title"},Object(r.createElement)("span",{className:"bwf-cs__timeline-status is-active"}),Object(r.createElement)("span",null,Object(a.__)("Step 3: Confirm Cache Exclusion","funnel-builder"))),Object(r.createElement)("div",{className:"bwf-text-style-5 bwf-t-left"},Object(a.__)("Test these pages as a non-loggedin user in browser's incognito mode to confirm proper cache exclusions.","funnel-builder")),Object(r.createElement)("div",{className:"bwf-text-style-5 bwf-mt-16 bwf-flex bwf--g4 bwf-t-left"},Object(a.__)("Are you still confused?","funnel-builder"),Object(r.createElement)("a",{href:"https://funnelkit.com/support/?utm_source=WordPress&utm_medium=Support+Footer&utm_campaign=fb+lite+plugin",target:"__blank"},Object(a.__)("Contact support"))))))}},421:function(e,t,n){"use strict";var r=n(0),a=n(2),o=n(18),i=n.n(o),c=n(5),l=n.n(c),s=(n(541),n(337)),u=n(1),f=n(279);function b(e){return function(e){if(Array.isArray(e))return m(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return m(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?m(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function d(){d=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new P(r||[]);return a(i,"_invoke",{value:k(e,n,c)}),i}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var b="suspendedStart",m="executing",p="completed",y={};function v(){}function O(){}function g(){}var j={};s(j,i,(function(){return this}));var w=Object.getPrototypeOf,_=w&&w(w(T([])));_&&_!==n&&r.call(_,i)&&(j=_);var E=g.prototype=v.prototype=Object.create(j);function C(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function x(e,t){function n(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var s=l.arg,u=s.value;return u&&"object"==h(u)&&r.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(u).then((function(e){s.value=e,i(s)}),(function(e){return n("throw",e,i,c)}))}c(l.arg)}var o;a(this,"_invoke",{value:function(e,r){function a(){return new t((function(t,a){n(e,r,t,a)}))}return o=o?o.then(a,a):a()}})}function k(t,n,r){var a=b;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===p){if("throw"===o)throw i;return{value:e,done:!0}}for(r.method=o,r.arg=i;;){var c=r.delegate;if(c){var l=S(c,r);if(l){if(l===y)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(a===b)throw a=p,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);a=m;var s=f(t,n,r);if("normal"===s.type){if(a=r.done?p:"suspendedYield",s.arg===y)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(a=p,r.method="throw",r.arg=s.arg)}}}function S(t,n){var r=n.method,a=t.iterator[r];if(a===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,S(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var o=f(a,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,y;var i=o.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,y):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function N(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function L(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(N,this),this.reset(!0)}function T(t){if(t||""===t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function n(){for(;++a<t.length;)if(r.call(t,a))return n.value=t[a],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(h(t)+" is not iterable")}return O.prototype=g,a(E,"constructor",{value:g,configurable:!0}),a(g,"constructor",{value:O,configurable:!0}),O.displayName=s(g,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===O||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,s(e,l,"GeneratorFunction")),e.prototype=Object.create(E),e},t.awrap=function(e){return{__await:e}},C(x.prototype),s(x.prototype,c,(function(){return this})),t.AsyncIterator=x,t.async=function(e,n,r,a,o){void 0===o&&(o=Promise);var i=new x(u(e,n,r,a),o);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},C(E),s(E,l,"Generator"),s(E,i,(function(){return this})),s(E,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=T,P.prototype={constructor:P,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(L),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function a(r,a){return c.type="throw",c.arg=t,n.next=r,a&&(n.method="next",n.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=r.call(i,"catchLoc"),s=r.call(i,"finallyLoc");if(l&&s){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),L(n),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;L(n)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:T(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),y}},t}function p(e,t,n,r,a,o,i){try{var c=e[o](i),l=c.value}catch(e){return void n(e)}c.done?t(l):Promise.resolve(l).then(r,a)}function h(e){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,j(r.key),r)}}function v(e,t,n){return t=O(t),function(e,t){if(t&&("object"==h(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,n||[],O(e).constructor):t.apply(e,n))}function O(e){return(O=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function g(e,t){return(g=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function j(e){var t=function(e,t){if("object"!=h(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=h(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==h(t)?t:t+""}var w=function(e){function t(e){var n,r,a,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=v(this,t,[e]),r=n,o=!0,(a=j(a="mounted"))in r?Object.defineProperty(r,a,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[a]=o,n.state={options:[]},n.appendFreeTextSearch=n.appendFreeTextSearch.bind(n),n.fetchOptions=n.fetchOptions.bind(n),n.updateSelected=n.updateSelected.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&g(e,t)}(t,e),n=t,(a=[{key:"getAutocompleter",value:function(){return this.props.autocompleter&&"object"===h(this.props.autocompleter)?this.props.autocompleter:{}}},{key:"getFormattedOptions",value:function(e,t){var n=this.getAutocompleter(),r=[];return e.forEach((function(e){var a={key:n.getOptionIdentifier(e),label:n.getOptionLabel(e,t),keywords:n.getOptionKeywords(e).filter(Boolean),value:e};r.push(a)})),r}},{key:"fetchOptions",value:function(e,t){var n=this;return t?this.getAutocompleter().options(t,this.props.searchHelper).then(function(){var e,r=(e=d().mark((function e(r){var a;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.mounted){e.next=4;break}return a=n.getFormattedOptions(r,t),n.setState({options:a}),e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){p(o,r,a,i,c,"next",e)}function c(e){p(o,r,a,i,c,"throw",e)}i(void 0)}))});return function(e){return r.apply(this,arguments)}}()):[]}},{key:"updateSelected",value:function(e){var t=this.props.onChange,n=this.getAutocompleter();t(e.map((function(e){return e.value?n.getOptionCompletion(e.value):e})))}},{key:"appendFreeTextSearch",value:function(e,t){var n=this.props,r=n.allowFreeTextSearch,a=n.emptySearchText,o=void 0===a?Object(u.__)("Not Found","funnel-builder"):a;if(!t||!t.length)return[];if(!r)return e.length>0?e:[{label:o,key:"",notFound:!0}];if(!r)return e;var i=this.getAutocompleter();return[].concat(b(i.getFreeTextOptions(t,e)),b(e))}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"render",value:function(){var e=this.getAutocompleter(),t=this.props,n=t.className,a=t.inlineTags,o=t.placeholder,i=t.selected,c=t.showClearButton,u=t.staticResults,f=t.disabled,b=(t.multiple,this.state.options),m=e.inputType?e.inputType:"text";return Object(r.createElement)("div",null,Object(r.createElement)(s.a,{className:l()("bwf-search",n,{"is-static-results":u}),disabled:f,hideBeforeSearch:!0,inlineTags:a,isSearchable:!0,label:o,getSearchExpression:e.getSearchExpression,multiple:!0,placeholder:o,onChange:this.updateSelected,onFilter:this.appendFreeTextSearch,onSearch:this.fetchOptions,options:b,remove:this.props.onRemoveTag,searchDebounceTime:500,searchInputType:m,selected:i,showClearButton:c,bwfMaintainSingleTerm:this.props.bwfMaintainSingleTerm}))}}])&&y(n.prototype,a),o&&y(n,o),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,a,o}(r.Component);w.propTypes={allowFreeTextSearch:i.a.bool,className:i.a.string,onChange:i.a.func,autocompleter:i.a.object,placeholder:i.a.string,selected:i.a.arrayOf(i.a.shape({key:i.a.oneOfType([i.a.number,i.a.string]).isRequired,label:i.a.string})),inlineTags:i.a.bool,showClearButton:i.a.bool,staticResults:i.a.bool,disabled:i.a.bool,bwfMaintainSingleTerm:i.a.bool,searchHelper:i.a.object};var _={allowFreeTextSearch:!1,onChange:a.noop,selected:[],inlineTags:!1,showClearButton:!1,staticResults:!1,disabled:!1,bwfMaintainSingleTerm:!1,searchHelper:{}};t.a=Object(f.a)(w,_)},541:function(e,t,n){},573:function(e,t,n){"use strict";var r=n(0),a=n(52),o=n(18),i=n.n(o),c=n(9),l=n(5),s=n.n(l);n(574);function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var f=["label","value","help","className","instanceId","onChange","onClick","prefix","suffix","type","disabled","trafficError"];function b(){return(b=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,d(r.key),r)}}function d(e){var t=function(e,t){if("object"!=u(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=u(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==u(t)?t:t+""}function p(e,t,n){return t=h(t),function(e,t){if(t&&("object"==u(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,n||[],h(e).constructor):t.apply(e,n))}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function y(e,t){return(y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var v=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=p(this,t,[e])).state={isFocused:!1},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&y(e,t)}(t,e),n=t,(a=[{key:"handleFocusOutside",value:function(){this.setState({isFocused:!1})}},{key:"handleOnClick",value:function(e,t){this.setState({isFocused:!0}),"function"==typeof t&&t(e)}},{key:"render",value:function(){var e=this,t=this.props,n=t.label,a=t.value,o=t.help,i=t.className,l=t.instanceId,u=t.onChange,m=t.onClick,d=t.prefix,p=t.suffix,h=t.type,y=void 0===h?"text":h,v=t.disabled,O=t.trafficError,g=void 0!==O&&O,j=function(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(t,f),w=(this.state.isFocused,"inspector-text-control-with-affixes-".concat(l)),_=[];o&&_.push("".concat(w,"__help")),d&&_.push("".concat(w,"__prefix")),p&&_.push("".concat(w,"__suffix"));var E=s()(i,{"with-value":""!==a,empty:""===a}),C=s()("text-control-with-affixes",{"text-control-with-prefix":d,"text-control-with-suffix":p,disabled:v});return Object(r.createElement)(c.BaseControl,{label:n,id:w,help:o,className:E,onClick:function(t){return e.handleOnClick(t,m)}},Object(r.createElement)("div",{className:C},d&&Object(r.createElement)("span",{id:"".concat(w,"__prefix"),className:"text-control-with-affixes__prefix"},d),Object(r.createElement)("input",b({className:"components-text-control__input ".concat(g?"bwf-error":""),type:y,id:w,value:a,onChange:function(e){return u(e.target.value)},"aria-describedby":_.join(" "),disabled:v,onFocus:function(){return e.setState({isFocused:!0})}},j)),p&&Object(r.createElement)("span",{id:"".concat(w,"__suffix"),className:"text-control-with-affixes__suffix"},p)))}}])&&m(n.prototype,a),o&&m(n,o),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,a,o}(r.Component);v.propTypes={label:i.a.string,help:i.a.string,type:i.a.string,value:i.a.string.isRequired,className:i.a.string,onChange:i.a.func.isRequired,prefix:i.a.node,suffix:i.a.node,disabled:i.a.bool},t.a=Object(a.compose)([a.withInstanceId,c.withFocusOutside])(v)},574:function(e,t,n){},923:function(e,t){e.exports='<svg width="268" height="240" viewBox="0 0 268 240" fill="none" xmlns="http://www.w3.org/2000/svg"> <path d="M92.7597 203.69C93.0452 204.239 93.4621 204.708 93.973 205.055C94.4839 205.402 95.0727 205.617 95.6866 205.68C96.0015 205.711 95.9118 206.195 95.5989 206.164C94.921 206.092 94.271 205.854 93.7057 205.472C93.1404 205.089 92.677 204.574 92.3561 203.97C92.3211 203.916 92.308 203.85 92.3195 203.786C92.331 203.723 92.3663 203.666 92.4181 203.627C92.4717 203.59 92.5377 203.576 92.6016 203.588C92.6656 203.6 92.7224 203.636 92.7597 203.69L92.7597 203.69Z" fill="white"/> <path d="M262.046 205.281C260.671 194.186 253.82 183.253 243.277 179.643C247.435 191.063 247.434 203.592 243.274 215.011C241.654 219.41 239.396 224.132 240.92 228.565C241.868 231.323 244.188 233.434 246.78 234.753C249.373 236.073 252.251 236.702 255.092 237.318L255.651 237.782C260.162 227.559 263.421 216.377 262.046 205.281Z" fill="#F0F0F0"/> <path d="M243.172 179.851C249.312 186.756 253.128 195.427 254.078 204.632C254.318 206.61 254.245 208.614 253.863 210.57C253.43 212.462 252.499 214.204 251.169 215.614C249.954 216.953 248.557 218.182 247.688 219.795C247.255 220.627 247.003 221.541 246.947 222.478C246.891 223.415 247.033 224.353 247.364 225.231C248.131 227.44 249.643 229.24 251.183 230.949C252.893 232.847 254.699 234.791 255.426 237.306C255.514 237.611 255.98 237.456 255.892 237.152C254.627 232.775 250.394 230.289 248.375 226.346C247.433 224.507 247.038 222.371 247.921 220.429C248.693 218.731 250.133 217.463 251.374 216.117C252.693 214.761 253.66 213.102 254.192 211.284C254.672 209.354 254.822 207.357 254.634 205.377C254.282 200.913 253.233 196.532 251.525 192.395C249.603 187.663 246.887 183.295 243.497 179.482C243.287 179.246 242.964 179.617 243.172 179.851L243.172 179.851Z" fill="white"/> <path d="M253.946 201.65C255.463 201.28 256.8 200.381 257.718 199.114C258.636 197.846 259.074 196.292 258.956 194.73C258.951 194.666 258.921 194.607 258.873 194.565C258.825 194.523 258.763 194.501 258.699 194.504C258.636 194.507 258.576 194.535 258.532 194.582C258.489 194.629 258.465 194.69 258.466 194.754C258.578 196.209 258.169 197.656 257.312 198.835C256.455 200.014 255.207 200.846 253.792 201.182C253.485 201.255 253.64 201.723 253.946 201.65Z" fill="white"/> <path d="M251.873 215.016C249.133 213.374 247.11 210.755 246.208 207.683C246.119 207.378 245.653 207.533 245.742 207.837C246.687 211.033 248.797 213.753 251.653 215.456C251.925 215.618 252.144 215.177 251.873 215.016Z" fill="white"/> <path d="M249.147 188.129C248.59 188.394 247.975 188.517 247.359 188.486C246.743 188.454 246.144 188.27 245.616 187.949C245.346 187.783 245.127 188.224 245.395 188.389C245.98 188.741 246.642 188.944 247.322 188.98C248.003 189.016 248.682 188.885 249.301 188.596C249.361 188.574 249.411 188.53 249.44 188.472C249.469 188.414 249.475 188.347 249.457 188.285C249.436 188.223 249.392 188.172 249.334 188.143C249.276 188.114 249.209 188.108 249.147 188.129Z" fill="white"/> <path d="M211.14 199.459C211.306 199.567 211.472 199.675 211.638 199.788C213.858 201.253 215.956 202.897 217.911 204.704C218.065 204.841 218.218 204.982 218.367 205.124C223.031 209.526 226.84 214.76 229.601 220.558C230.697 222.866 231.617 225.255 232.352 227.703C233.368 231.085 234.2 234.832 236.21 237.598C236.417 237.889 236.641 238.166 236.882 238.429H255.044C255.085 238.409 255.126 238.392 255.168 238.371L255.893 238.405C255.864 238.276 255.831 238.142 255.802 238.014C255.785 237.939 255.765 237.864 255.748 237.789C255.736 237.739 255.723 237.689 255.715 237.643C255.711 237.627 255.706 237.61 255.702 237.598C255.694 237.552 255.682 237.51 255.673 237.469C255.491 236.724 255.303 235.98 255.11 235.235C255.11 235.231 255.11 235.231 255.106 235.227C253.686 229.54 251.6 224.042 248.89 218.849C248.807 218.695 248.724 218.537 248.633 218.383C247.378 216.084 245.938 213.892 244.328 211.828C243.442 210.701 242.5 209.62 241.506 208.588C238.931 205.928 235.955 203.691 232.688 201.959C226.174 198.507 218.632 197.184 211.671 199.293C211.493 199.347 211.319 199.401 211.14 199.459Z" fill="#F0F0F0"/> <path d="M211.181 199.692C220.225 201.495 228.473 206.112 234.754 212.888C236.132 214.323 237.276 215.966 238.144 217.758C238.933 219.531 239.235 221.484 239.018 223.414C238.852 225.218 238.473 227.043 238.747 228.856C238.9 229.782 239.247 230.664 239.765 231.446C240.282 232.228 240.958 232.891 241.749 233.392C243.687 234.692 245.974 235.216 248.229 235.65C250.732 236.132 253.34 236.593 255.43 238.162C255.683 238.352 255.962 237.947 255.709 237.757C252.074 235.026 247.203 235.599 243.226 233.672C241.37 232.772 239.773 231.306 239.314 229.222C238.912 227.399 239.3 225.517 239.484 223.692C239.724 221.813 239.501 219.903 238.835 218.13C238.061 216.299 236.982 214.614 235.644 213.147C232.686 209.795 229.22 206.931 225.375 204.66C221.001 202.043 216.213 200.197 211.219 199.201C210.91 199.139 210.874 199.631 211.181 199.692H211.181Z" fill="white"/> <path d="M232.86 210.586C233.85 209.374 234.378 207.849 234.35 206.282C234.322 204.715 233.741 203.209 232.709 202.033C232.5 201.796 232.122 202.112 232.332 202.349C233.295 203.443 233.837 204.846 233.859 206.305C233.882 207.764 233.384 209.183 232.456 210.306C232.255 210.55 232.66 210.829 232.86 210.586Z" fill="white"/> <path d="M239.223 222.51C236.05 222.855 232.864 221.987 230.3 220.078C230.047 219.889 229.767 220.295 230.021 220.484C232.692 222.464 236.009 223.361 239.31 222.995C239.625 222.96 239.535 222.475 239.223 222.51Z" fill="white"/> <path d="M267.443 239.999H0.557357C0.409281 239.999 0.267526 239.939 0.163082 239.834C0.0586387 239.728 0 239.586 0 239.437C0 239.289 0.0586387 239.146 0.163082 239.041C0.267526 238.935 0.409281 238.876 0.557357 238.875H267.443C267.591 238.876 267.732 238.935 267.837 239.041C267.941 239.146 268 239.289 268 239.437C268 239.586 267.941 239.728 267.837 239.834C267.732 239.939 267.591 239.999 267.443 239.999Z" fill="#CCCCCC"/> <path d="M118.712 157.555H5.75478C2.85253 157.555 0.5 155.202 0.5 152.3V44.7549C0.5 41.8526 2.85253 39.5 5.75478 39.5H118.712C121.614 39.5 123.967 41.8526 123.967 44.7549V152.3C123.967 155.202 121.614 157.555 118.712 157.555Z" fill="#E6E6E6" stroke="#E0E0E0"/> <path d="M95.2669 78.72H86.271L84.7 83.8071H77.6865L87.6737 56.5762H93.8455L103.907 83.8071H96.8566L95.2669 78.72ZM87.842 73.6516H93.6959L90.7596 64.2068L87.842 73.6516Z" fill="#2F2E41"/> <path d="M70.4719 56.2318H16.8762C15.9222 56.2318 15.1489 55.4586 15.1489 54.5047C15.1489 53.5507 15.9222 52.7773 16.8762 52.7773H70.4719C71.4259 52.7773 72.1992 53.5507 72.1992 54.5047C72.1992 55.4586 71.4259 56.2318 70.4719 56.2318Z" fill="#2F2E41"/> <path d="M53.2422 64.8529H16.8762C15.9222 64.8529 15.1489 64.0797 15.1489 63.1258C15.1489 62.1718 15.9222 61.3984 16.8762 61.3984H53.2422C54.1961 61.3984 54.9694 62.1718 54.9694 63.1258C54.9694 64.0797 54.1961 64.8529 53.2422 64.8529Z" fill="#2F2E41"/> <path d="M25.9605 78.9671H16.3825C15.701 78.9671 15.1489 78.4152 15.1489 77.7337C15.1489 77.0522 15.701 76.5 16.3825 76.5H25.9605C26.642 76.5 27.1941 77.0522 27.1941 77.7337C27.1941 78.4152 26.642 78.9671 25.9605 78.9671Z" fill="#2F2E41"/> <path d="M96.2359 121.335H66.6365C65.955 121.335 65.4028 120.782 65.4028 120.101V115.116C65.4028 114.435 65.955 113.883 66.6365 113.883H96.2359C96.9174 113.883 97.4696 114.435 97.4696 115.116V120.101C97.4696 120.782 96.9174 121.335 96.2359 121.335Z" fill="#2F2E41"/> <path d="M108.163 134.877H66.6369C65.9554 134.877 65.4033 134.325 65.4033 133.644V128.659C65.4033 127.978 65.9554 127.426 66.6369 127.426H108.163C108.844 127.426 109.397 127.978 109.397 128.659V133.644C109.397 134.325 108.844 134.877 108.163 134.877Z" fill="#2F2E41"/> <path d="M33.5825 142.923C33.5825 141.653 34.6124 140.622 35.8836 140.622C26.9294 140.622 19.6446 133.337 19.6446 124.383C19.6446 115.429 26.9294 108.144 35.8836 108.144C44.8378 108.144 52.1225 115.429 52.1225 124.383C52.1225 123.113 53.1524 122.082 54.4236 122.082C55.6941 122.082 56.7247 123.112 56.7247 124.383C56.7247 112.892 47.3759 103.543 35.8843 103.543C24.3928 103.543 15.0439 112.892 15.0439 124.383C15.0439 135.875 24.3928 145.224 35.8843 145.224C34.6131 145.224 33.5825 144.194 33.5825 142.923Z" fill="#CAC8C8"/> <path d="M54.4245 122.08C53.154 122.08 52.1235 123.11 52.1235 124.381C52.1235 133.335 44.8387 140.62 35.8845 140.62C34.614 140.62 33.5835 141.651 33.5835 142.921C33.5835 144.192 34.6133 145.222 35.8845 145.222C47.3761 145.222 56.7249 135.873 56.7249 124.382C56.7249 123.11 55.695 122.08 54.4245 122.08Z" fill="#0073AA"/> <path d="M0.0991211 43C0.0991211 40.7909 1.88998 39 4.09912 39H120.403C122.612 39 124.403 40.7909 124.403 43V47.6723H0.0991211V43Z" fill="#3F3D56"/> <circle cx="10.9396" cy="43.3341" r="2.16808" fill="white"/> <circle cx="18.1666" cy="43.3341" r="2.16808" fill="white"/> <circle cx="25.3932" cy="43.3341" r="2.16808" fill="white"/> <path d="M149.445 34.7625C150.293 45.0635 157.765 51.5214 162.15 51.5214C162.808 51.5214 163.524 51.4036 164.272 51.198V56.3359H175.394V43.273C175.497 43.0027 175.597 42.7031 175.695 42.3831C180.626 41.9114 180.421 33.7502 177.492 33.7502C176.959 33.7502 176.602 34.2547 176.378 34.7625L175.651 35.491V31.8039C175.651 31.8039 174.015 31.9577 170.792 27.041C169.402 29.1535 158.315 32.4696 149.417 30.9848C149.416 30.9841 149.394 32.8182 149.445 34.7625Z" fill="#9E616A"/> <path d="M162.919 17C170.589 17 172.124 21.097 172.124 21.097C175.397 21.097 180.408 27.0893 177.39 33.7467L177.375 33.7624L175.652 35.4883V31.8011C175.652 31.8011 174.015 31.9549 170.793 27.0383C169.403 29.1508 158.315 32.4668 149.418 30.9821C149.418 30.9821 149.395 32.8161 149.446 34.7598C149.446 34.7618 149.446 34.7639 149.446 34.7659C146.123 25.1376 152.794 17 162.919 17Z" fill="#311643"/> <path d="M166.216 35.8831C166.556 35.8831 166.83 35.608 166.83 35.2683V34.1205C166.83 33.7808 166.556 33.5059 166.216 33.5059C165.877 33.5059 165.603 33.7808 165.603 34.1205V35.2683C165.603 35.608 165.878 35.8831 166.216 35.8831Z" fill="#311643"/> <path d="M154.837 35.8831C155.176 35.8831 155.451 35.608 155.451 35.2683V34.1205C155.451 33.7808 155.176 33.5059 154.837 33.5059C154.498 33.5059 154.223 33.7808 154.223 34.1205V35.2683C154.224 35.608 154.498 35.8831 154.837 35.8831Z" fill="#311643"/> <path d="M161.703 44.7429C162.798 44.7429 163.544 44.3304 163.996 43.9546C164.566 43.4808 164.802 42.964 164.812 42.9422C164.876 42.8006 164.813 42.6339 164.672 42.5699C164.53 42.5059 164.364 42.5691 164.3 42.71C164.268 42.7795 163.49 44.4135 161.23 44.1514C161.076 44.1337 160.936 44.2438 160.918 44.399C160.9 44.5543 161.01 44.6931 161.165 44.7108C161.353 44.7326 161.533 44.7429 161.703 44.7429Z" fill="#311643"/> <path d="M150.541 34.6959C150.541 37.0705 152.47 39.002 154.84 39.002C157.157 39.002 159.05 37.1576 159.136 34.8586C160.422 34.1295 161.566 34.6531 161.922 34.8553C162.006 37.1564 163.9 39.0027 166.217 39.0027C168.588 39.0027 170.517 37.0711 170.517 34.6966C170.517 32.322 168.588 30.3906 166.217 30.3906C164.003 30.3906 162.174 32.0763 161.943 34.2337C161.381 33.9757 160.319 33.6679 159.114 34.2357C158.884 32.0776 157.055 30.3906 154.839 30.3906C152.47 30.3899 150.541 32.3213 150.541 34.6959ZM162.481 34.6959C162.481 32.6324 164.158 30.9531 166.219 30.9531C168.28 30.9531 169.956 32.6318 169.956 34.6959C169.956 36.76 168.28 38.4389 166.219 38.4389C164.158 38.4389 162.481 36.76 162.481 34.6959ZM151.103 34.6959C151.103 32.6324 152.779 30.9531 154.84 30.9531C156.901 30.9531 158.577 32.6318 158.577 34.6959C158.577 36.76 156.901 38.4389 154.84 38.4389C152.78 38.4389 151.103 36.76 151.103 34.6959Z" fill="white"/> <path d="M164.273 56.3246V51.1866C166.788 50.4942 169.651 48.7985 171.803 47.1816L164.273 56.3246Z" fill="#9E616A"/> <path d="M137.686 222.156H149.465L160.891 161.301L169.272 134.926L189.563 222.156H201.342L190.367 124.293H146.848L137.686 222.156Z" fill="#2F2E41"/> <path d="M148.528 226.904V235.241C148.528 236.213 147.741 237.001 146.77 237.001H123.159C122.935 237.001 122.752 236.819 122.752 236.594V234.989C122.752 234.287 123.154 233.647 123.784 233.342L137.098 226.904H148.528Z" fill="#2F2E41"/> <path d="M190.84 226.904V235.241C190.84 236.213 191.627 237.001 192.598 237.001H216.209C216.433 237.001 216.615 236.819 216.615 236.594V234.989C216.615 234.287 216.214 233.647 215.583 233.342L202.27 226.904H190.84Z" fill="#2F2E41"/> <path d="M149.46 222.152L148.573 226.895H137.094L137.68 222.152H149.46Z" fill="#9E616A"/> <path d="M201.34 222.152L202.272 226.895H190.841L189.561 222.152H201.34Z" fill="#9E616A"/> <path d="M190.602 126.392L146.417 128.892L146.848 124.293H190.367" fill="#181729"/> <path d="M164.29 51.9499L147.454 59.2683C146.221 59.8 145.169 60.6796 144.427 61.8002L137.686 71.9737L147.191 80.374L149.731 78.2017L146.848 124.295H190.367L187.7 94.2402L188.292 78.2017L190.55 80.4557L200.593 72.724L195.197 63.9173C193.862 61.7395 191.933 59.9886 189.638 58.8728L175.394 51.9492C175.394 51.9499 168.934 56.1946 164.29 51.9499Z" fill="#3F3D56"/> <path d="M160.708 53.5031C163.069 55.4842 166.019 56.5618 169.134 56.5618C172.414 56.5618 175.511 55.3665 177.928 53.1825L177.489 52.9688C175.175 55.0016 172.24 56.1112 169.134 56.1112C166.201 56.1112 163.421 55.1221 161.171 53.3017L160.708 53.5031Z" fill="white"/> <path d="M89.5996 60.9542L90.072 60.8752L90.1454 60.5859C90.2841 60.0405 90.7572 59.647 91.3174 59.6089L97.9417 59.161L102.55 57.284L99.9776 54.0687C99.5514 53.5356 99.6112 52.7636 100.114 52.3027L105.541 56.4908C106.074 56.902 106.516 57.4187 106.839 58.0083L108.538 61.1079L108.529 61.1189L133.345 78.4899L137.685 71.9781L147.191 80.3784L135.292 90.9163C134.586 91.5262 133.537 91.5153 132.844 90.8903L104.911 65.719L99.565 66.2281C98.3591 66.3432 97.1423 66.2214 95.9826 65.8708L93.1446 65.0116C92.6626 64.8659 92.4111 64.3356 92.6028 63.8693L90.5812 63.4799C90.2032 63.407 89.9177 63.0959 89.8776 62.7126L89.8429 62.3852H89.7192C89.3222 62.3852 89 62.0625 89 61.6649C88.998 61.3129 89.2522 61.012 89.5996 60.9542Z" fill="#9E616A"/> <path d="M180.691 120.781L185.117 118.803C185.423 118.666 185.661 118.41 185.775 118.094L186.417 116.325L184.181 116.874L183.468 118.408C183.228 118.924 182.621 119.156 182.098 118.931L183.03 116.115C183.204 115.667 183.54 115.3 183.971 115.088L188.644 112.787L196.706 86.5975L190.547 80.4602L200.589 72.7285L206.461 82.9628C207.268 84.3699 207.366 86.0753 206.726 87.5655L190.43 124.889L187.195 125.039C186.807 125.057 186.439 124.86 186.24 124.525L185.887 123.937L184.185 124.076C183.821 124.106 183.467 123.945 183.249 123.651L182.848 123.11L182.61 123.173C181.958 123.345 181.273 123.047 180.954 122.452L179.773 122.847C179.506 122.025 179.902 121.134 180.691 120.781Z" fill="#9E616A"/> </svg> '}}]);