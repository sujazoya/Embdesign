(window.webpackJsonp=window.webpackJsonp||[]).push([[33],{1173:function(e,t,n){},1204:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n(121),c=n(1),l=n(27),s=n(4),i=n(155),b=n(19),o=function(){var e=Object(b.a)().isProFeatureLocked,t=[{key:"funnels",href:Object(s.M)({},"/analytics/funnels",{}),label:Object(c.__)("Funnels","funnel-builder"),isProTab:e},{key:"orders",href:Object(s.M)({},"/analytics/orders",{}),label:Object(c.__)("Conversions","funnel-builder")},{key:"referrers",href:Object(s.M)({},"/analytics/referrers",{}),label:Object(c.__)("Referrers","funnel-builder"),isProTab:e},{key:"utm-campaigns",href:Object(s.M)({},"/analytics/utm-campaigns",{}),label:Object(c.__)("UTM Campaigns","funnel-builder"),isProTab:e}],n=location&&location.search?Object(l.parse)(location.search.substring(1)):{},r=n.path.split("/")&&n.path.split("/").length>=3?n.path.split("/")[2].toLowerCase():"funnels";return Object(a.createElement)(i.a,{selected:"experiments"===r?"steps":"contacts"===r?"orders":r,SidebarItems:t,title:Object(c.__)("Analytics","funnel-builder")})},u=n(61),d=n(13),f=n(113),O=n(142),j=n(25),m=n(2),p=n(98),y=n(97),v=n(100),E=n(87),g=n(86),h=n(41),w=n(93),_=n(131),L=["edit"];var N=function(e,t,n){return decodeURIComponent(Object(d.f)(e,t,n))},P=function(){var e=Object(b.a)().isProFeatureLocked,t=Object(d.i)(),n=(t.edit,function(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(-1!==t.indexOf(a))continue;n[a]=e[a]}return n}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(a=0;a<c.length;a++)n=c[a],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}(t,L)),l=Object(u.a)(),i=l.resetHeaderMenu,o=(l.setPageHeader,l.setStepHeader),P=l.setL2NavType,k=l.setIsStepNavActive,x=l.setL2Nav,C=l.setActiveMultiple,T=l.setPageBackLink,R=Object(h.a)().getPreviousStep,F=Object(E.a)(),M=F.setOrderLoading,z=F.setOrders,S=Object(g.a)(),A=S.setLeadLoading,I=S.setLeads,U=Object(v.a)(),H=U.getTotalContacts,B=U.getMessage,D=Object(w.a)().setReferrerLoading,J=Object(_.a)().resetAnalyticsData,K=Object(O.a)().getContact,q=Object(p.a)().getTotalOrders,G=Object(y.a)().getTotalLeads,Q=H(),V=q(),W=G(),X=(B(),R()),Y=K(),Z=(null!=Y?Y:{}).user_info,$=void 0===Z?{}:Z,ee=(null==$?void 0:$.first_name)&&"".concat(null==$?void 0:$.first_name," ").concat(null==$?void 0:$.last_name),te=Object(r.useParams)(),ne=te.tab,ae=void 0===ne?"funnels":ne,re=te.tab2,ce=function(e,t){var n=Object(m.isEmpty)(re)?"orders":re;return Object(a.createElement)(a.Fragment,null,Object(a.createElement)("div",{className:"bwf-flex bwf--g8"},Object(a.createElement)("span",null,Object(m.capitalize)(e)),t>0?Object(a.createElement)(j.c,{content:t,type:e===n?"secondary":"tertiary"}):null))},le={orders:{name:ce(Object(c.__)("orders","funnel-builder"),V),link:N({},"/analytics/orders",n),count:V},optins:{name:ce(Object(c.__)("optins","funnel-builder"),W),link:N({},"/analytics/orders/optins",n),count:W}},se=function(e,t){return Object(a.createElement)(f.a,{modalTitle:e,isBack:t,disabled:["publish","edit","preview","stepType","draftContainer","abContainer","draft","action"]})};Object(a.useEffect)((function(){return function(){M(!0),z([],1,25),A(!0),I([],1,25),D(!0),J()}}),[]),Object(a.useEffect)((function(){i(),k(!0),C({leftNav:"analytics",rightNav:re}),"overview"===ae?o(Object(a.createElement)("div",{className:"bwf-header-title bwf-mb-16"},Object(c.__)("Overview","funnel-builder"))):"funnels"===ae?o(Object(a.createElement)("div",{className:"bwf-flex bwf--space-between bwf-mb-16"},Object(a.createElement)("div",{className:"bwf-header-title"},Object(c.__)("Funnels","funnel-builder"),e&&Object(a.createElement)(j.b,null)))):"conversion-tracking"===ae?o(Object(a.createElement)("div",{className:"bwf-header-title bwf-mb-16"},Object(c.__)("Conversion Tracking","funnel-builder"))):"referrers"===ae?o(Object(a.createElement)("div",{className:"bwf-header-title bwf-mb-16"},Object(c.__)("Referrers","funnel-builder"),e&&Object(a.createElement)(j.b,null))):"utm-campaigns"===ae?o(Object(a.createElement)("div",{className:"bwf-header-title bwf-mb-16"},Object(c.__)("UTM Campaigns","funnel-builder"),e&&Object(a.createElement)(j.b,null))):"contacts"===ae?void 0!==re&&("orders"===X&&M(!1),"leads"===X&&A(!1),T(Object(s.M)({},"".concat("orders"===X?"/analytics/orders":"leads"===X?"/analytics/orders/optins":"/analytics/orders"))),o(se("Details",!0))):"contact-export"===ae?(T(Object(s.M)({},"/analytics/contacts")),o(se("Export Contacts"))):"orders"===ae&&(o(Object(a.createElement)("div",{className:"bwf-header-title bwf-mb-16"},Object(c.__)("Conversions","funnel-builder"))),C({leftNav:"analytics",rightNav:!isNaN(V)&&!isNaN(W)&&(re?"optins":"orders")}),x(le),P("menu"))}),[ae,re,ee,V,W,Q,X])},k=(n(1173),n(160)),x=n(164),C=n(36),T=n(276),R=n(926),F=n(145),M=Object(a.lazy)((function(){return Promise.all([n.e(1),n.e(0),n.e(6),n.e(14),n.e(25)]).then(n.bind(null,1190))})),z=Object(a.lazy)((function(){return Promise.all([n.e(3),n.e(4),n.e(8),n.e(0),n.e(27)]).then(n.bind(null,928))})),S=Object(a.lazy)((function(){return Promise.all([n.e(0),n.e(6),n.e(28)]).then(n.bind(null,820))})),A=Object(a.lazy)((function(){return Promise.all([n.e(3),n.e(4),n.e(0),n.e(6),n.e(35)]).then(n.bind(null,823))})),I=Object(a.lazy)((function(){return Promise.all([n.e(1),n.e(3),n.e(4),n.e(0),n.e(31)]).then(n.bind(null,1201))})),U=Object(a.lazy)((function(){return Promise.all([n.e(1),n.e(3),n.e(4),n.e(0),n.e(31)]).then(n.bind(null,1203))})),H=Object(a.lazy)((function(){return Promise.all([n.e(3),n.e(4),n.e(0),n.e(6),n.e(44)]).then(n.bind(null,821))}));t.default=function(){Object(s.l)(Object(c.__)("Analytics","funnel-builder")),P();var e=Object(x.a)(),t=e.setContacts,n=e.setContactLoading,l=e.setContactsFiltersList,i=Object(g.a)(),b=i.setLeadLoading,u=i.setLeadsFiltersList,d=i.setLeadsFirstTimeLoading,f=Object(E.a)(),O=f.setOrderLoading,j=f.setOrdersFiltersList,m=f.setOrdersFirstTimeLoading,p=Object(w.a)().setReferrerLoading,y=Object(F.a)().setUtmsLoading;Object(a.useEffect)((function(){return function(){n(!0),t([],1,25),O(!0),b(!0),p(!0),y(!0),l([]),u([]),j([]),m(null),d(null)}}),[]);var v=Object(R.useParams)(),h=v.tab2,_=v.tab,L=void 0===_?"funnel":_;return Object(a.createElement)("div",{className:"bwf-analytics-wrap"},Object(a.createElement)(o,null),Object(a.createElement)("div",null,Object(a.createElement)(k.a,{isLoading:!1}),Object(a.createElement)(a.Suspense,{fallback:Object(a.createElement)(a.Fragment,null)},Object(a.createElement)(T.a,null,Object(a.createElement)(C.a,{pageKey:null!=h?h:L},(function(e){var t=e.ref;return Object(a.createElement)("div",{ref:t},Object(a.createElement)(r.Switch,null,Object(a.createElement)(r.Route,{exact:!0,path:["/analytics/contacts","/analytics/contact-export","/analytics/contacts/all","/analytics/contacts/customers","/analytics/contacts/leads","/analytics/contacts/:id"],render:function(e){return Object(a.createElement)(M,e)}}),Object(a.createElement)(r.Route,{exact:!0,path:["/analytics/orders"],render:function(e){return Object(a.createElement)(I,e)}}),Object(a.createElement)(r.Route,{exact:!0,path:["/analytics/orders/:ordersType"],render:function(e){return Object(a.createElement)(U,e)}}),Object(a.createElement)(r.Route,{exact:!0,path:["/analytics","/analytics/funnels"],render:function(e){return Object(a.createElement)(z,e)}}),Object(a.createElement)(r.Route,{exact:!0,path:["/analytics/conversion-tracking"],render:function(e){return Object(a.createElement)(S,e)}}),Object(a.createElement)(r.Route,{exact:!0,path:["/analytics/referrers"],render:function(e){return Object(a.createElement)(A,e)}}),Object(a.createElement)(r.Route,{exact:!0,path:["/analytics/utm-campaigns"],render:function(e){return Object(a.createElement)(H,e)}}),s.r))}))))))}}}]);